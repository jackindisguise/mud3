<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>YAMLCommandAdapter | mud3</title><meta name="description" content="Documentation for mud3"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">mud3</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="../modules/package_commands.html">package/commands</a></li><li><a href="" aria-current="page">YAMLCommandAdapter</a></li></ul><h1>Class YAMLCommandAdapter</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>Adapter class to convert YAML command definitions into Command instances.
Executes command scripts in a sandboxed VM environment with minimal access.</p>
</div></section><section class="tsd-panel tsd-hierarchy" data-refl="3644"><h4>Hierarchy (<a href="../hierarchy.html#package/commands.YAMLCommandAdapter">View Summary</a>)</h4><ul class="tsd-hierarchy"><li class="tsd-hierarchy-item"><a href="command.Command.html" class="tsd-signature-type tsd-kind-class">Command</a><ul class="tsd-hierarchy"><li class="tsd-hierarchy-item"><span class="tsd-hierarchy-target">YAMLCommandAdapter</span></li></ul></li></ul></section><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/jackindisguise/mud3/blob/57bd32389401ff6112b37b0123c6e5a6d7b796a1/src/package/commands.ts#L153">src/package/commands.ts:153</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h5 class="tsd-index-heading uppercase">Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Constructors</h3><div class="tsd-index-list"><a href="#constructor" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Constructor"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Properties</h3><div class="tsd-index-list"><a href="#aliases" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>aliases?</span></a>
<a href="#pattern" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>pattern</span></a>
<a href="#priority" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>priority</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Methods</h3><div class="tsd-index-list"><a href="#execute" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>execute</span></a>
<a href="#getactioncooldownms" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Action<wbr/>Cooldown<wbr/>Ms</span></a>
<a href="#onerror" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>on<wbr/>Error</span></a>
<a href="#parse" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>parse</span></a>
</div></section></div></details></section></section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Constructors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Constructors</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="constructor"><span>constructor</span><a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="constructoryamlcommandadapter"><span class="tsd-signature-keyword">new</span> <span class="tsd-kind-constructor-signature">YAMLCommandAdapter</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">yamlDef</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/package_commands.YAMLCommandDefinition.html" class="tsd-signature-type tsd-kind-interface">YAMLCommandDefinition</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-class">YAMLCommandAdapter</a><a href="#constructoryamlcommandadapter" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">yamlDef</span>: <a href="../interfaces/package_commands.YAMLCommandDefinition.html" class="tsd-signature-type tsd-kind-interface">YAMLCommandDefinition</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="" class="tsd-signature-type tsd-kind-class">YAMLCommandAdapter</a></h4><aside class="tsd-sources"><p>Overrides <a href="command.Command.html">Command</a>.<a href="command.Command.html#constructor">constructor</a></p><ul><li>Defined in <a href="https://github.com/jackindisguise/mud3/blob/57bd32389401ff6112b37b0123c6e5a6d7b796a1/src/package/commands.ts#L157">src/package/commands.ts:157</a></li></ul></aside></div></li></ul></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Properties</h2></summary><section><section class="tsd-panel tsd-member tsd-is-inherited"><h3 class="tsd-anchor-link" id="aliases"><code class="tsd-tag">Optional</code> <code class="tsd-tag">Readonly</code><span>aliases</span><a href="#aliases" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">aliases</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></div><div class="tsd-comment tsd-typography"><p>Optional aliases for the command.</p>
<p>Aliases are alternative patterns that trigger the same command execution.
Each alias follows the same pattern syntax as the main pattern and can
have different structures. When input is parsed, all patterns (main + aliases)
are tried in order until one matches.</p>
<p>This is useful for:</p>
<ul>
<li>Providing abbreviations (&quot;l&quot; as an alias for &quot;look&quot;)</li>
<li>Supporting alternate phrasings (&quot;whisper&quot; as an alias for &quot;tell&quot;)</li>
<li>Backwards compatibility when changing command syntax</li>
</ul>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example">Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-8">class</span><span class="hl-1"> </span><span class="hl-9">TellCommand</span><span class="hl-1"> </span><span class="hl-8">extends</span><span class="hl-1"> </span><span class="hl-9">Command</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-8">constructor</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-8">super</span><span class="hl-1">(</span><span class="hl-2">&quot;tell &lt;target:mob&gt; &lt;message:text&gt;&quot;</span><span class="hl-1">, [</span><br/><span class="hl-1">      </span><span class="hl-2">&quot;whisper &lt;target:mob&gt; &lt;message:text&gt;&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">&quot;t &lt;target:mob&gt; &lt;message:text&gt;&quot;</span><br/><span class="hl-1">    ]);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-3">// ... execute implementation</span><br/><span class="hl-1">}</span><br/><span class="hl-3">// Now &quot;tell bob hi&quot;, &quot;whisper bob hi&quot;, and &quot;t bob hi&quot; all work</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><p>Inherited from <a href="command.Command.html">Command</a>.<a href="command.Command.html#aliases">aliases</a></p><ul><li>Defined in <a href="https://github.com/jackindisguise/mud3/blob/57bd32389401ff6112b37b0123c6e5a6d7b796a1/src/core/command.ts#L442">src/core/command.ts:442</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-is-inherited"><h3 class="tsd-anchor-link" id="pattern"><code class="tsd-tag">Readonly</code><span>pattern</span><a href="#pattern" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">pattern</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div><div class="tsd-comment tsd-typography"><p>The command pattern using placeholder syntax.</p>
<p>Define the structure of your command using literal text and argument
placeholders. The pattern is case-insensitive when matching input.</p>
<p>Placeholders:</p>
<ul>
<li><code>&lt;name:type&gt;</code> - Required argument</li>
<li><code>&lt;name:type?&gt;</code> - Optional argument (with ? suffix)</li>
<li><code>&lt;name:type@source&gt;</code> - Object/Item/Mob argument with search source modifier</li>
<li><code>word~</code> - Literal word with autocomplete (matches partial input)</li>
</ul>
<p>Examples:</p>
<ul>
<li><code>&quot;say &lt;message:text&gt;&quot;</code> - Simple command with one required text argument</li>
<li><code>&quot;tell &lt;target:mob&gt; &lt;message:text&gt;&quot;</code> - Two required arguments</li>
<li><code>&quot;get &lt;item:object&gt;&quot;</code> - Object argument (searches room and inventory)</li>
<li><code>&quot;get &lt;item:object@room&gt;&quot;</code> - Object argument (searches only room)</li>
<li><code>&quot;put &lt;item:object@inventory&gt; in &lt;container:object@room&gt;&quot;</code> - Multiple object arguments with different sources</li>
<li><code>&quot;look &lt;direction:direction?&gt;&quot;</code> - Optional direction argument</li>
<li><code>&quot;drop &lt;quantity:number&gt; &lt;item:item@inventory&gt;&quot;</code> - Number and item arguments</li>
<li><code>&quot;ooc~ &lt;message:text&gt;&quot;</code> - Autocomplete: matches &quot;o&quot;, &quot;oo&quot;, or &quot;ooc&quot;</li>
</ul>
</div><aside class="tsd-sources"><p>Inherited from <a href="command.Command.html">Command</a>.<a href="command.Command.html#pattern">pattern</a></p><ul><li>Defined in <a href="https://github.com/jackindisguise/mud3/blob/57bd32389401ff6112b37b0123c6e5a6d7b796a1/src/core/command.ts#L413">src/core/command.ts:413</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-is-inherited"><h3 class="tsd-anchor-link" id="priority"><code class="tsd-tag">Readonly</code><span>priority</span><a href="#priority" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">priority</span><span class="tsd-signature-symbol">:</span> <a href="../enums/command.PRIORITY.html" class="tsd-signature-type tsd-kind-enum">PRIORITY</a><span class="tsd-signature-symbol"> = PRIORITY.NORMAL</span></div><div class="tsd-comment tsd-typography"><p>Priority level for this command.
Commands with higher priority are tried before commands with lower priority.
Defaults to PRIORITY.NORMAL.</p>
</div><aside class="tsd-sources"><p>Inherited from <a href="command.Command.html">Command</a>.<a href="command.Command.html#priority">priority</a></p><ul><li>Defined in <a href="https://github.com/jackindisguise/mud3/blob/57bd32389401ff6112b37b0123c6e5a6d7b796a1/src/core/command.ts#L449">src/core/command.ts:449</a></li></ul></aside></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Methods</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="execute"><code class="tsd-tag">Abstract</code><span>execute</span><a href="#execute" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="execute-1"><span class="tsd-kind-call-signature">execute</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/command.CommandContext.html" class="tsd-signature-type tsd-kind-interface">CommandContext</a><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">args</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Map</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#execute-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Execute the command with parsed arguments.</p>
<p>This method is called after the input has been successfully parsed and
all arguments have been extracted and validated. Implement this method
to define what your command actually does.</p>
<p>The args Map contains all successfully parsed arguments, keyed by their
names from the pattern. Optional arguments may not be present in the map
if they weren't provided in the input.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">context</span>: <a href="../interfaces/command.CommandContext.html" class="tsd-signature-type tsd-kind-interface">CommandContext</a></span><div class="tsd-comment tsd-typography"><p>The execution context containing the actor and their location</p>
</div></li><li><span><span class="tsd-kind-parameter">args</span>: <span class="tsd-signature-type">Map</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>Map of argument names to their parsed values</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-1">Example<a href="#example-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-0">execute</span><span class="hl-1">(</span><span class="hl-5">context</span><span class="hl-1">: </span><span class="hl-5">CommandContext</span><span class="hl-1">, </span><span class="hl-5">args</span><span class="hl-1">: </span><span class="hl-5">Map</span><span class="hl-1">&lt;</span><span class="hl-5">string</span><span class="hl-1">, </span><span class="hl-5">any</span><span class="hl-1">&gt;) {</span><br/><span class="hl-1">  </span><span class="hl-8">const</span><span class="hl-1"> </span><span class="hl-6">item</span><span class="hl-1"> = </span><span class="hl-5">args</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;item&quot;</span><span class="hl-1">) </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-9">DungeonObject</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-8">const</span><span class="hl-1"> </span><span class="hl-6">quantity</span><span class="hl-1"> = </span><span class="hl-5">args</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;quantity&quot;</span><span class="hl-1">) ?? </span><span class="hl-7">1</span><span class="hl-1">; </span><span class="hl-3">// Default if optional</span><br/><br/><span class="hl-1">  </span><span class="hl-4">if</span><span class="hl-1"> (!</span><span class="hl-5">item</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;You don&#39;t have that item.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`You use </span><span class="hl-8">${</span><span class="hl-5">quantity</span><span class="hl-8">}</span><span class="hl-2"> </span><span class="hl-8">${</span><span class="hl-5">item</span><span class="hl-10">.</span><span class="hl-5">display</span><span class="hl-8">}</span><span class="hl-2">(s).`</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><p>Overrides <a href="command.Command.html">Command</a>.<a href="command.Command.html#execute">execute</a></p><ul><li>Defined in <a href="https://github.com/jackindisguise/mud3/blob/57bd32389401ff6112b37b0123c6e5a6d7b796a1/src/package/commands.ts#L201">src/package/commands.ts:201</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><h3 class="tsd-anchor-link" id="getactioncooldownms"><span>get<wbr/>Action<wbr/>Cooldown<wbr/>Ms</span><a href="#getactioncooldownms" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link" id="getactioncooldownms-1"><span class="tsd-kind-call-signature">getActionCooldownMs</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">_context</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/command.CommandContext.html" class="tsd-signature-type tsd-kind-interface">CommandContext</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">_args</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Map</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">undefined</span><a href="#getactioncooldownms-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Optional cooldown (in milliseconds) for action commands.</p>
<p>Override this to opt-in to the action queue system. Return a positive
number to mark the command as an action that should respect cooldowns
and queue subsequent action inputs until the cooldown elapses.</p>
<p>Returning 0 or undefined means the command executes immediately without
entering the action queue.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">_context</span>: <a href="../interfaces/command.CommandContext.html" class="tsd-signature-type tsd-kind-interface">CommandContext</a></span></li><li><span><span class="tsd-kind-parameter">_args</span>: <span class="tsd-signature-type">Map</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">number</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">undefined</span></h4><aside class="tsd-sources"><p>Inherited from <a href="command.Command.html">Command</a>.<a href="command.Command.html#getactioncooldownms">getActionCooldownMs</a></p><ul><li>Defined in <a href="https://github.com/jackindisguise/mud3/blob/57bd32389401ff6112b37b0123c6e5a6d7b796a1/src/core/command.ts#L563">src/core/command.ts:563</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="onerror"><span>on<wbr/>Error</span><a href="#onerror" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="onerror-1"><span class="tsd-kind-call-signature">onError</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/command.CommandContext.html" class="tsd-signature-type tsd-kind-interface">CommandContext</a><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">result</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/command.ParseResult.html" class="tsd-signature-type tsd-kind-interface">ParseResult</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#onerror-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Handle parsing errors with custom messaging.</p>
<p>This optional method is called when the command pattern matches but
parsing fails (missing required arguments, invalid argument values, etc.).
Override this to provide custom error messages and usage information
specific to your command.</p>
<p>If not implemented, the default error message from the ParseResult is used.</p>
<p>Common use cases:</p>
<ul>
<li>Show usage examples for your command</li>
<li>Provide context-specific help</li>
<li>Guide users on correct syntax</li>
<li>Explain why their input was invalid</li>
</ul>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">context</span>: <a href="../interfaces/command.CommandContext.html" class="tsd-signature-type tsd-kind-interface">CommandContext</a></span><div class="tsd-comment tsd-typography"><p>The execution context</p>
</div></li><li><span><span class="tsd-kind-parameter">result</span>: <a href="../interfaces/command.ParseResult.html" class="tsd-signature-type tsd-kind-interface">ParseResult</a></span><div class="tsd-comment tsd-typography"><p>The failed parse result containing the error message</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-2">Example<a href="#example-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-0">onError</span><span class="hl-1">(</span><span class="hl-5">context</span><span class="hl-1">: </span><span class="hl-5">CommandContext</span><span class="hl-1">, </span><span class="hl-5">result</span><span class="hl-1">: </span><span class="hl-5">ParseResult</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Usage: </span><span class="hl-8">${</span><span class="hl-8">this</span><span class="hl-10">.</span><span class="hl-5">pattern</span><span class="hl-8">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Error: </span><span class="hl-8">${</span><span class="hl-5">result</span><span class="hl-10">.</span><span class="hl-5">error</span><span class="hl-8">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Example: tell bob Hello, how are you?`</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-3">Example<a href="#example-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>More detailed error handling:</p>
<pre><code class="typescript"><span class="hl-0">onError</span><span class="hl-1">(</span><span class="hl-5">context</span><span class="hl-1">: </span><span class="hl-5">CommandContext</span><span class="hl-1">, </span><span class="hl-5">result</span><span class="hl-1">: </span><span class="hl-5">ParseResult</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">error</span><span class="hl-1">?.</span><span class="hl-0">includes</span><span class="hl-1">(</span><span class="hl-2">&quot;Missing required argument: message&quot;</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;You need to provide a message to say!&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Usage: say &lt;message&gt;&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Example: say Hello, everyone!&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  } </span><span class="hl-4">else</span><span class="hl-1"> </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">error</span><span class="hl-1">?.</span><span class="hl-0">includes</span><span class="hl-1">(</span><span class="hl-2">&quot;Could not parse argument: player&quot;</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;That player is not here.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Try &#39;look&#39; to see who&#39;s around.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">  } </span><span class="hl-4">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Error: </span><span class="hl-8">${</span><span class="hl-5">result</span><span class="hl-10">.</span><span class="hl-5">error</span><span class="hl-8">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><p>Overrides <a href="command.Command.html">Command</a>.<a href="command.Command.html#onerror">onError</a></p><ul><li>Defined in <a href="https://github.com/jackindisguise/mud3/blob/57bd32389401ff6112b37b0123c6e5a6d7b796a1/src/package/commands.ts#L216">src/package/commands.ts:216</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><h3 class="tsd-anchor-link" id="parse"><span>parse</span><a href="#parse" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-is-inherited"><div class="tsd-signature tsd-anchor-link" id="parse-1"><span class="tsd-kind-call-signature">parse</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">input</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/command.CommandContext.html" class="tsd-signature-type tsd-kind-interface">CommandContext</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/command.ParseResult.html" class="tsd-signature-type tsd-kind-interface">ParseResult</a><a href="#parse-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Parse the input against this command's pattern.</p>
<p>This is the main entry point for command parsing. It attempts to match
the input against the command's pattern and all aliases, parsing arguments
and performing validation. The first pattern that successfully matches is used.</p>
<p>The parsing process:</p>
<ol>
<li>Try the main pattern, then each alias in order</li>
<li>For each pattern, use the cached regex and attempt to match the input</li>
<li>Extract argument values from the regex capture groups</li>
<li>Parse and validate each argument based on its type</li>
<li>Return success with parsed args, or failure with an error message</li>
</ol>
<p>Error messages are specific when possible:</p>
<ul>
<li>&quot;Missing required argument: <name>&quot; when a required arg isn't provided</li>
<li>&quot;Could not parse argument: <name>&quot; when parsing/finding fails</li>
<li>&quot;Input does not match command pattern&quot; for general mismatches</li>
</ul>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">input</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The raw input string from the user (typically lowercase)</p>
</div></li><li><span><span class="tsd-kind-parameter">context</span>: <a href="../interfaces/command.CommandContext.html" class="tsd-signature-type tsd-kind-interface">CommandContext</a></span><div class="tsd-comment tsd-typography"><p>The execution context for finding objects/players</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../interfaces/command.ParseResult.html" class="tsd-signature-type tsd-kind-interface">ParseResult</a></h4><p>Result containing success status, parsed args, and optional error</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-4">Example<a href="#example-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-8">const</span><span class="hl-1"> </span><span class="hl-6">command</span><span class="hl-1"> = </span><span class="hl-8">new</span><span class="hl-1"> </span><span class="hl-0">GetCommand</span><span class="hl-1">();</span><br/><span class="hl-8">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-5">command</span><span class="hl-1">.</span><span class="hl-0">parse</span><span class="hl-1">(</span><span class="hl-2">&quot;get sword&quot;</span><span class="hl-1">, </span><span class="hl-5">context</span><span class="hl-1">);</span><br/><br/><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">success</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-8">const</span><span class="hl-1"> </span><span class="hl-6">item</span><span class="hl-1"> = </span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">args</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;item&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">command</span><span class="hl-1">.</span><span class="hl-0">execute</span><span class="hl-1">(</span><span class="hl-5">context</span><span class="hl-1">, </span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">args</span><span class="hl-1">);</span><br/><span class="hl-1">} </span><span class="hl-4">else</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">result</span><span class="hl-1">.</span><span class="hl-5">error</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><p>Inherited from <a href="command.Command.html">Command</a>.<a href="command.Command.html#parse">parse</a></p><ul><li>Defined in <a href="https://github.com/jackindisguise/mud3/blob/57bd32389401ff6112b37b0123c6e5a6d7b796a1/src/core/command.ts#L653">src/core/command.ts:653</a></li></ul></aside></div></li></ul></section></section></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Constructors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Constructors</summary><div><a href="#constructor"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Constructor"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Properties</summary><div><a href="#aliases" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>aliases</span></a><a href="#pattern" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>pattern</span></a><a href="#priority" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>priority</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Methods</summary><div><a href="#execute"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>execute</span></a><a href="#getactioncooldownms" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Action<wbr/>Cooldown<wbr/>Ms</span></a><a href="#onerror"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>on<wbr/>Error</span></a><a href="#parse" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>parse</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">mud3</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
