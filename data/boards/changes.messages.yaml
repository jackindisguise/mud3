messages:
  - id: 97
    author: SYSTEM
    subject: Version 1.0.0
    content: "{YFeatures:{x\r\n{y{Y *{x {yAdd customizable channel message patterns and recipient formatting{x{x\r\n{y{Y *{x {yAdd persistent message board system with interactive editor and{x\r\n   {ycolorized who command{x{x\r\n{y{Y *{x {yadded autocomplete literals to command patterns{x{x\r\n{y{Y *{x {yadded logger{x{x\r\n{y{Y *{x {ydoin a lot out here{x{x\r\n{y{Y *{x {yimplement channel system with SAY support and admin tools{x{x\r\n{y{Y *{x {ywe be doin this{x{x\r\n\r\n{GBug Fixes:{x\r\n{g{G *{x {gfixed development flow a little bit{x{x\r\n{g{G *{x {gfixed mob/character relationship{x{x\r\n\r\n{CMiscellaneous:{x\r\n{c{C *{x {cIntroduced messagePattern and recipientMessagePattern to ChannelInfo{x\r\n   {cfor flexible message formatting per channel{x{x\r\n{c{C *{x {cUpdated all channel configs to use messagePattern with $recipient{x\r\n   {cplaceholder{x{x\r\n{c{C *{x {cAdded recipientMessagePattern for WHISPER channel to support distinct{x\r\n   {crecipient-facing messages{x{x\r\n{c{C *{x {cRefactored formatChannelMessage to select recipientMessagePattern for{x\r\n   {cwhispers when appropriate{x{x\r\n{c{C *{x {cUpdated whisper and reply commands to rely on sendChat for{x\r\n   {clastWhisperFrom logic{x{x\r\n{c{C *{x {cImproved block/unblock commands to use Character.block/unblock{x\r\n   {cmethods with case normalization{x{x\r\n{c{C *{x {cEnsured all channel messages consistently include recipient username{x{x\r\n{c{C *{x {cUpdated and fixed related tests for new formatting logic{x{x\r\n{c{C *{x {c## UI Enhancements:{x{x\r\n{c{C *{x {cAdd color support to 'who' command output (headers, player names,{x\r\n   {cstats){x{x\r\n{c{C *{x {cExtend color utility with additional color codes{x{x\r\n{c{C *{x {c## Message Board System (Complete Rewrite):{x{x\r\n{c{C *{x {cImplement class-based Board system with encapsulated methods{x{x\r\n{c{C *{x {cAdd persistent board storage with YAML-based configuration{x{x\r\n{c{C *{x {cCreate default boards: Changes (permanent), General (1 month expiry),{x\r\n   {cTrade (7 day expiry){x{x\r\n{c{C *{x {cAuto-save boards on server shutdown with cleanup timer{x{x\r\n{c{C *{x {c## Board Features:{x{x\r\n{c{C *{x {cMessage targeting: @mentions for specific users, @all for public{x\r\n   {cmessages{x{x\r\n{c{C *{x {cSubject lines for all messages{x{x\r\n{c{C *{x {cVisibility filtering: users only see messages targeted to them or{x\r\n   {cpublic messages{x{x\r\n{c{C *{x {cBoard listing shows subject, author, time ago, and targeting info{x{x\r\n{c{C *{x {cRead specific messages with 'board <name> read <id>'{x{x\r\n{c{C *{x {c## Interactive Message Editor:{x{x\r\n{c{C *{x {cMulti-step write sequence: targets # subject # body{x{x\r\n{c{C *{x {cMulti-line body input with auto-wrap at 80 characters{x{x\r\n{c{C *{x {cRich editing commands:{x{x\r\n{c{C *{x {c# !done - Finish and preview message{x{x\r\n{c{C *{x {c# !show - Display body with line numbers{x{x\r\n{c{C *{x {c# !delete <n> - Delete specific line{x{x\r\n{c{C *{x {c# !subject <text> - Change subject inline{x{x\r\n{c{C *{x {c# !to <@targets> - Change targets inline{x{x\r\n{c{C *{x {c# !forget/!quit - Cancel message creation{x{x\r\n{c{C *{x {c# !help - Show command reference{x{x\r\n{c{C *{x {cPreview with confirmation before submission{x{x\r\n{c{C *{x {c## Infrastructure:{x{x\r\n{c{C *{x {cAdd Character.ask() and Character.yesno() methods for centralized{x\r\n   {cprompting{x{x\r\n{c{C *{x {cIntegrate board package into game lifecycle{x{x\r\n{c{C *{x {cAdd periodic board cleanup for expired messages{x{x\r\n{c{C *{x {cRemove obsolete commands (_ooc, stupid){x{x\r\n{c{C *{x {cThis commit transforms the MUD into a fully-featured messaging{x\r\n   {cplatform with{x{x\r\n{c{C *{x {ca polished, interactive editing experience and persistent storage.{x{x\r\n{c{C *{x {cWorking on the game implementation.{x{x\r\n{c{C *{x {cNot sure if I like how it is.{x{x\r\n{c{C *{x {cAdd CHANNEL enum (OOC, GOSSIP, SAY, NEWBIE, TRADE) with color-coded{x\r\n   {cformatting{x{x\r\n{c{C *{x {cImplement channel subscription system in Character class{x{x\r\n{c{C *{x {cAdd channels Set to PlayerSettings{x{x\r\n{c{C *{x {cAdd joinChannel(), leaveChannel(), isInChannel(), and sendChat(){x\r\n   {cmethods{x{x\r\n{c{C *{x {cSerialize/deserialize channels as arrays{x{x\r\n{c{C *{x {cUpdate default channels: players start with OOC, GOSSIP, and SAY{x\r\n   {cenabled{x{x\r\n{c{C *{x {cRefactor say and ooc commands to use new channel system{x{x\r\n{c{C *{x {cAdd 'channels' command for managing subscriptions{x\r\n   {c(on/off/enable/disable){x{x\r\n{c{C *{x {cAdd 'exec' command for admin JavaScript execution with async/await{x\r\n   {csupport{x{x\r\n{c{C *{x {cSupports = shorthand for expressions{x{x\r\n{c{C *{x {cRestricted to admin users only{x{x\r\n{c{C *{x {cImplement localhost auto-admin privileges on login{x{x\r\n{c{C *{x {cAdd isLocalhost() utility function for IPv4/IPv6 detection{x{x\r\n{c{C *{x {cEnhance color module with COLOR enum, colorToTag(), and color(){x\r\n   {cfunction{x{x\r\n{c{C *{x {cAdd LINEBREAK constant (\\r\\n) to telnet module for protocol{x\r\n   {ccompliance{x{x\r\n{c{C *{x {cUpdate all sendLine() calls to use LINEBREAK instead of hardcoded{x\r\n   {cvalues{x{x\r\n{c{C *{x {cRefactor MudServer to accept port in start() method instead of{x\r\n   {cconstructor{x{x\r\n{c{C *{x {cAdd comprehensive test coverage for channels and character features{x{x\r\n{c{C *{x {cCreate helpfiles for exec and channels commands{x{x\r\n{c{C *{x {cAlso updated some color stuff.{x{x\r\n{c{C *{x {cMob/Character relationship is weird.{x{x\r\n{c{C *{x {cCharacters need a mob, but if we reassign to a new character,{x{x\r\n{c{C *{x {cthe old character needs a mob that isn't us. So we just give{x{x\r\n{c{C *{x {cthem an empty one.{x{x\r\n{c{C *{x {cAdded serialized version of credentials to cover Date{x{x\r\n{c{C *{x {cbeing saved and loaded to text from the Date.{x{x"
    postedAt: '2025-11-12T03:14:45.608Z'
    readBy:
      - 5
      - 6
      - 15
      - 20
      - 44
      - 49
      - 51
  - id: 98
    author: SYSTEM
    subject: Version 1.1.0
    content: "{YFeatures:{x\r\n{y{Y *{x {yadd character ID system, board read tracking, and improved board UI{x{x\r\n{y{Y *{x {yadd gamestate package and implement atomic file writes{x{x\r\n\r\n{CMiscellaneous:{x\r\n{c{C *{x {cImplement unique character IDs for tracking read messages and reply{x\r\n   {cfunctionality. Add board message read status tracking with character{x\r\n   {cIDs. Split board data into separate config and messages files. Add{x\r\n   {clogin notifications for unread board messages. Implement 'read next'{x\r\n   {ccommand to read oldest unread message. Add box-in-box styling for{x\r\n   {cboard list and message display. Automatically mark messages as read{x\r\n   {cwhen created by author.{x{x\r\n{c{C *{x {cAdd gamestate package to track elapsed game time across restarts{x{x\r\n{c{C *{x {cImplement atomic writes (temp file + rename) for all file persistence{x{x\r\n{c{C *{x {cUpdate character, board, config, and gamestate saving to prevent{x\r\n   {ccorruption{x{x\r\n{c{C *{x {cIntegrate gamestate package into game startup and auto-save cycle{x{x"
    postedAt: '2025-11-12T03:14:45.609Z'
    readBy:
      - 5
      - 6
      - 15
      - 20
      - 44
      - 49
      - 51
  - id: 99
    author: SYSTEM
    subject: Version 1.2.0
    content: "{YFeatures:{x\r\n{y{Y *{x {yAdded dungeon template registry and automatic reset system{x{x\r\n{y{Y *{x {yimplemented movement commands, look command, and room descriptions{x{x\r\n{y{Y *{x {yimprove changelog posting script with multi-version support and{x\r\n   {ycommit bodies{x{x\r\n{y{Y *{x {yIntegrated structured changelog parser into post-changelog-to-board{x\r\n   {yscript{x{x\r\n\r\n{CMiscellaneous:{x\r\n{c{C *{x {cMade template registry a member of Dungeon class with{x\r\n   {caddTemplate/removeTemplate methods{x{x\r\n{c{C *{x {cUpdated executeResets() to use dungeon's internal template registry{x\r\n   {cinstead of external parameter{x{x\r\n{c{C *{x {cAdded template definitions to dungeon YAML format (serialized with{x\r\n   {cresets){x{x\r\n{c{C *{x {cUpdated saveDungeon() and loadDungeon() to handle templates{x\r\n   {cautomatically{x{x\r\n{c{C *{x {cAdded automatic dungeon reset timer that executes resets every 60{x\r\n   {cseconds{x{x\r\n{c{C *{x {cReplaced all setInterval/clearInterval with{x\r\n   {csetAbsoluteInterval/clearCustomInterval from accurate-intervals{x\r\n   {cpackage for absolute timing{x{x\r\n{c{C *{x {cUpdated test to add templates to dungeon before calling{x\r\n   {cexecuteResets(){x{x\r\n{c{C *{x {cAdded movement commands (north, south, east, west, up, down,{x\r\n   {cdiagonals) with single-letter aliases{x{x\r\n{c{C *{x {cAdded centralized _movement.ts helper for movement command execution{x{x\r\n{c{C *{x {cAdded look command with optional direction argument{x{x\r\n{c{C *{x {cAdded minimap display to showRoom function with configurable size{x{x\r\n{c{C *{x {cAdded roomDescription field to DungeonObject for one-line room{x\r\n   {cdescriptions{x{x\r\n{c{C *{x {cMoved new characters to @tower{0,0,0} on creation{x{x\r\n{c{C *{x {cRestored existing characters to saved location on login{x{x\r\n{c{C *{x {cAdded unit tests for roomDescription field{x{x\r\n{c{C *{x {cUpdated showRoom to display minimap alongside room info with proper{x\r\n   {calignment{x{x\r\n{c{C *{x {cBuffered all multiline messages in commands before sending{x{x\r\n{c{C *{x {cRefactor changelog posting script to parse and post all unposted{x\r\n   {cversions instead of just the latest. Add commit body fetching using{x\r\n   {cgit log to include full commit messages in board posts. Simplify{x\r\n   {cversion matching regex to handle both Release Please format (##{x\r\n   {c[X.Y.Z]) and simple format (## X.Y.Z). Add text wrapping using{x\r\n   {cmud-ext for proper formatting of changelog content in board messages.{x{x\r\n{c{C *{x {cReplaced simple line-by-line parsing with structured parser that{x\r\n   {cextracts Features, Bug Fixes, and Breaking Changes{x{x\r\n{c{C *{x {cAdded parseBulletPoint function to extract prefix tags, commit{x\r\n   {chashes, issue numbers, and URLs from bullet points{x{x\r\n{c{C *{x {cRemoved markdown link syntax from bullet point text fields for{x\r\n   {ccleaner display{x{x\r\n{c{C *{x {cAdded formatVersionContent function to organize output with Breaking{x\r\n   {cChanges first, then Features, then Bug Fixes{x{x\r\n{c{C *{x {cUpdated formatBulletPoint to display prefix tags, commit hashes, and{x\r\n   {cissue numbers in formatted output{x{x\r\n{c{C *{x {cAdded text wrapping and color formatting for bullet points in board{x\r\n   {cmessages{x{x\r\n{c{C *{x {cRemoved old parseVersionSection function that fetched commit bodies{x\r\n   {cvia git{x{x"
    postedAt: '2025-11-12T03:14:45.610Z'
    readBy:
      - 5
      - 6
      - 15
      - 20
      - 49
      - 51
  - id: 100
    author: SYSTEM
    subject: Version 1.3.0
    content: "{YFeatures:{x\r\n{y{Y *{x {yadded board alias commands and updated changelog posting order{x{x\r\n{y{Y *{x {yadded changes, general, and trade commands as aliases for board{x\r\n   {ycommand{x{x\r\n{y{Y *{x {yadded commit body parsing to post-changelog-to-board script{x{x\r\n{y{Y *{x {yadded extractCommitHashes function to scrape commit hashes from{x\r\n   {yversion sections{x{x\r\n{y{Y *{x {yadded fetchCommitBody function to retrieve and parse commit message{x\r\n   {ybodies{x{x\r\n{y{Y *{x {yadded categorizeBulletPoint function to categorize bullet points by{x\r\n   {ycommit type{x{x\r\n{y{Y *{x {yadded miscellaneous category for bullet points without commit type{x\r\n   {yprefixes{x{x\r\n\r\n{CMiscellaneous:{x\r\n{c{C *{x {cchanged post-changelog-to-board to post versions from oldest to{x\r\n   {cnewest{x{x\r\n{c{C *{x {cmodified parseVersionContent to extract all commit hashes and compile{x\r\n   {cbullet points from commit bodies{x{x"
    postedAt: '2025-11-12T04:29:04.674Z'
    readBy:
      - 5
      - 6
      - 15
      - 20
      - 49
      - 51
  - id: 101
    author: SYSTEM
    subject: Version 1.4.0
    content: "{YFeatures:{x\r\n{y{Y *{x {yadd number prefix support to find functions (e.g., \"2.sword\" selects{x\r\n   {y2nd match){x{x\r\n{y{Y *{x {yadd destroy() method to DungeonObject for proper garbage collection{x{x\r\n{y{Y *{x {yadd bonuses command to display all attribute/resource bonuses from{x\r\n   {yrace, class, equipment, and attributes{x{x\r\n{y{Y *{x {yadd equipment/gear command to show equipped items with slot names{x{x\r\n{y{Y *{x {yadd inventory/inv command to show unequipped inventory items{x{x\r\n{y{Y *{x {yadd save command to save character without quitting{x{x\r\n{y{Y *{x {yadd quit command to save and disconnect{x{x\r\n{y{Y *{x {yadd wear command to equip items with slot-specific messages{x{x\r\n{y{Y *{x {yadd remove command to unequip items with reverse action messages{x{x\r\n{y{Y *{x {yadd drop command to drop items from inventory (prevents dropping{x\r\n   {yequipped items){x{x\r\n{y{Y *{x {yadd get command to pick up items from room or containers{x{x\r\n{y{Y *{x {yadd XYZ coordinates to room display in look command{x{x\r\n{y{Y *{x {yadd equipment templates to tower dungeon (sword, helmet, chest gear){x{x\r\n{y{Y *{x {yadd secondaryAttributeBonuses field to Equipment{x{x\r\n{y{Y *{x {ysupport styled minimap tiles and top-first grids{x{x\r\n{y{Y *{x {yadded mapText and mapColor fields across dungeon objects, templates,{x\r\n   {yand serialization{x{x\r\n{y{Y *{x {yupdated minimap rendering to honor room defaults, highlight mobs, and{x\r\n   {yadd alternating palette{x{x\r\n{y{Y *{x {yrefined tower dungeon data with guardian room description and{x\r\n   {ydirectional staircase templates{x{x\r\n{y{Y *{x {yadded quoted phrase support for word arguments{x{x\r\n{y{Y *{x {yupdated word argument regex to capture quoted strings or single words{x{x\r\n{y{Y *{x {yextracted mob module and refreshed score display{x{x\r\n{y{Y *{x {yextracted mob implementation into src/mob.ts with registry helpers{x\r\n   {yfor custom dungeon objects{x{x\r\n{y{Y *{x {yredesigned score command output with alignment utilities and box{x\r\n   {ycombiners{x{x\r\n{y{Y *{x {yload archetypes and refine mob presentation{x{x\r\n{y{Y *{x {yintroduced package loader for races and classes{x{x\r\n{y{Y *{x {ypresented floored mob stats via readonly views{x{x\r\n{y{Y *{x {yrestyled score command into boxed sections{x{x\r\n{y{Y *{x {yscheduled timed dungeon resets{x{x\r\n\r\n{GBug Fixes:{x\r\n{g{G *{x {guse DungeonObject.deserialize() instead of Equipment.deserialize() to{x\r\n   {gproperly restore Weapon/Armor types with their stats{x{x\r\n{g{G *{x {gexclude inventory items when source is \"room\"{x{x\r\n{g{G *{x {gcall mob.destroy() when client disconnects or quits{x{x\r\n{g{G *{x {gimprove test runner argument parsing for Windows compatibility{x{x\r\n{g{G *{x {gresolve serialization type compatibility issues{x{x\r\n{g{G *{x {gupdate Item.deserialize to accept AnySerializedDungeonObject for{x\r\n   {gcompatibility{x{x\r\n{g{G *{x {gadd type casts to Equipment/Armor/Weapon serialize methods{x{x\r\n\r\n{CMiscellaneous:{x\r\n{c{C *{x {cequipment system and object search improvements{x{x\r\n{c{C *{x {csplit Equipment into Armor and Weapon classes with separate{x\r\n   {cdefense/attackPower{x{x\r\n{c{C *{x {cconsolidate findObject/findItem/findEquipment to use shared{x\r\n   {cfindObjectsBySource helper{x{x\r\n{c{C *{x {cupdate Mob.destroy() to clear character references and equipped items{x{x\r\n{c{C *{x {cupdate equipment bonuses to apply defense/attackPower directly to{x\r\n   {csecondary attributes{x{x\r\n{c{C *{x {creversed dungeon grid persistence so YAML lists upper floors first{x{x\r\n{c{C *{x {cenhanced word argument parser to strip matching quotes from quoted{x\r\n   {cphrases{x{x\r\n{c{C *{x {cadded test cases for double and single quoted word arguments{x{x\r\n{c{C *{x {cupdated dungeon workflows to use registration maps instead of{x\r\n   {chardcoded mob handling{x{x\r\n{c{C *{x {cupdated command and dungeon specs plus package exports to reflect mob{x\r\n   {crelocation{x{x\r\n{c{C *{x {csynced data fixtures and scripts with new mob module{x{x\r\n{c{C *{x {cadded sample race and class yaml files{x{x\r\n{c{C *{x {cconsolidate Mob and Equipment classes into dungeon.ts{x{x\r\n{c{C *{x {cmove Mob class from mob.ts to dungeon.ts{x{x\r\n{c{C *{x {cmove Equipment/Armor/Weapon classes from equipment.ts to dungeon.ts{x{x\r\n{c{C *{x {cupdate all imports to use dungeon.ts instead of mob.ts/equipment.ts{x{x\r\n{c{C *{x {cadd comprehensive JSDoc documentation for all Equipment classes{x{x\r\n{c{C *{x {cadd comprehensive JSDoc documentation for Mob class and methods{x{x\r\n{c{C *{x {cadd documentation for PrimaryAttributeSet, SecondaryAttributeSet,{x\r\n   {cResourceCapacities{x{x\r\n{c{C *{x {cadd documentation for EQUIPMENT_SLOT enum and all equipment-related{x\r\n   {ctypes{x{x\r\n{c{C *{x {cupdate equipment.spec.ts imports to use dungeon.ts{x{x"
    postedAt: '2025-11-13T05:00:15.090Z'
    readBy:
      - 5
      - 6
      - 15
      - 20
      - 49
      - 51
  - id: 102
    author: SYSTEM
    subject: Version 1.5.0
    content: "{YFeatures:{x\r\n{y{Y *{x {yadded character settings system with config command and prompt{x\r\n   {yformatter{x{x\r\n{y{Y *{x {yadded defaultColor setting to PlayerSettings for terminal color{x\r\n   {ycustomization{x{x\r\n{y{Y *{x {yimplemented stickyColor application in Character.send() when{x\r\n   {ydefaultColor is set{x{x\r\n{y{Y *{x {yadded config command for managing character settings{x{x\r\n{y{Y *{x {yadded prompt formatter with placeholders for health, mana,{x\r\n   {yexhaustion, XP, and max values{x{x\r\n{y{Y *{x {yupdated serialization/deserialization to handle defaultColor setting{x{x"
    postedAt: '2025-11-13T16:42:52.200Z'
    readBy:
      - 5
      - 6
      - 15
      - 20
      - 49
      - 51
  - id: 103
    author: SYSTEM
    subject: Version 1.6.0
    content: "{YFeatures:{x\r\n{y{Y *{x {yexpand archetypes and polish ux{x{x\r\n{y{Y *{x {yadded dozens of new starter races/classes with lore helpfiles and{x\r\n   {yscripts{x{x\r\n{y{Y *{x {yreworked character creation storing archetype objects plus !info{x\r\n   {ysupport{x{x\r\n{y{Y *{x {yenriched help and features docs, added config and who command ux{x\r\n   {ytweaks{x{x\r\n{y{Y *{x {ybroadcast dungeon reset messages and updated dungeon data{x{x\r\n{y{Y *{x {yimprove config guidance and auto-look handling{x{x\r\n{y{Y *{x {yrefactored the config command with helper functions, richer usage{x\r\n   {ytext, and color listings via mud-ext{x{x\r\n{y{Y *{x {yrouted movement through Mob.step() so movement feedback and auto-look{x\r\n   {ydisplay live with the mob{x{x\r\n\r\n{GBug Fixes:{x\r\n{g{G *{x {gimproved prompt/echo handling and telnet IAC stripping compatibility{x{x\r\n{g{G *{x {gprevented equipped items from being duplicated in serialized mob{x\r\n   {gcontents{x{x\r\n\r\n{CMiscellaneous:{x\r\n{c{C *{x {creorganized archetype, dungeon, and command loading utilities{x{x\r\n{c{C *{x {cbumped mud-ext to v2.12.0 and updated the lockfile{x{x\r\n{c{C *{x {crefreshed gamestate metadata{x{x"
    postedAt: '2025-11-15T03:43:59.646Z'
    readBy:
      - 15
      - 20
      - 49
      - 51
  - id: 104
    author: SYSTEM
    subject: Version 1.7.0
    content: "{YFeatures:{x\r\n{y{Y *{x {yadd action queue visibility and cancellation{x{x\r\n{y{Y *{x {yadded cancel and queue commands for action management{x{x\r\n{y{Y *{x {yincluded raw command text in prompts and listing output{x{x\r\n{y{Y *{x {ystored input on action queue entries for later display{x{x\r\n{y{Y *{x {yadded tests covering cancel, queue, and prompt formatting{x{x\r\n{y{Y *{x {yadd per-character action queue cooldowns{x{x\r\n{y{Y *{x {ymoved action state into Character and exposed queue prompt status{x{x\r\n{y{Y *{x {yadded Command.getActionCooldownMs with registry{x\r\n   {yqueueing/notifications{x{x\r\n{y{Y *{x {yallowed package commands to declare cooldowns and applied defaults to{x\r\n   {ymovement plus new work command{x{x\r\n{y{Y *{x {yadded persistent room links system{x{x\r\n{y{Y *{x {yadded roomLinks field to RoomTemplate interface for storing room{x\r\n   {ylinks in dungeon files{x{x\r\n{y{Y *{x {yimplemented room link serialization in saveDungeon to extract links{x\r\n   {yfrom rooms and save them in templates{x{x\r\n{y{Y *{x {yimplemented room link loading in loadDungeon to collect roomLinks and{x\r\n   {ydefer creation until all dungeons are loaded{x{x\r\n{y{Y *{x {yadded processPendingRoomLinks function that creates RoomLink{x\r\n   {yinstances after all dungeons are loaded{x{x\r\n{y{Y *{x {yadded automatic bidirectional link detection - if two rooms link to{x\r\n   {yeach other, creates two-way link, otherwise creates one-way link{x{x\r\n{y{Y *{x {yadded comprehensive debug logging to room link processing including{x\r\n   {yper-link processing, bidirectional detection, and summary statistics{x{x\r\n{y{Y *{x {yadded Sector 7 dungeon from Final Fantasy 7{x{x\r\n{y{Y *{x {ycreated sector7.yaml dungeon file with 15x15 slums layer{x{x\r\n{y{Y *{x {yadded upper plate layer accessible via stairs{x{x\r\n{y{Y *{x {yimplemented room templates for slums, Seventh Heaven bar, train{x\r\n   {ystation, pillar, houses, shops, and plate areas{x{x\r\n{y{Y *{x {yadded NPC templates for Sector 7 residents, shopkeepers, and Mako{x\r\n   {ytrains{x{x\r\n{y{Y *{x {yadded item templates for Materia orbs and potions{x{x\r\n{y{Y *{x {yconfigured resets for NPCs and items at appropriate locations{x{x\r\n{y{Y *{x {yimproved minimap display and fixed logging issues{x{x\r\n{y{Y *{x {yenhanced minimap display with box formatting in look command{x{x\r\n{y{Y *{x {yupdated tower dungeon configuration{x{x\r\n\r\n{GBug Fixes:{x\r\n{g{G *{x {gadded debug logging to diagnose room lookup failures in room link{x\r\n   {gprocessing{x{x\r\n{g{G *{x {gfixed logging issue where mob was logged after destruction in game.ts{x{x\r\n\r\n{CMiscellaneous:{x\r\n{c{C *{x {crefreshed gamestate metadata{x{x\r\n{c{C *{x {ccovered cooldown queueing in command and character specs{x{x\r\n{c{C *{x {cswitched node test reporter to dot and refreshed gamestate metadata{x{x\r\n{c{C *{x {cupdated gamestate.yaml with latest timestamp{x{x\r\n{c{C *{x {cremoved \"Related Commands\" sections from block, searching, and{x\r\n   {cunblock help files{x{x\r\n{c{C *{x {cupdated mud-ext dependency from v2.12.0 to v2.12.1{x{x"
    postedAt: '2025-11-16T05:47:34.370Z'
    readBy:
      - 15
      - 20
      - 49
      - 51
  - id: 105
    author: SYSTEM
    subject: Version 1.8.0
    content: "{YFeatures:{x\r\n{y{Y *{x {yadd base+compressed serialization and normalize deserialize\\n\\n- Add{x\r\n   {y{compress} option and propagate to subclasses\\n- Emit base-form keys{x\r\n   {ywith undefined for uncompressed\\n- Implement compression vs{x\r\n   {ybaseSerializedTypes\\n- Introduce normalizeSerializedData and{x\r\n   {yintegrate into DungeonObject.deserialize{x{x"
    postedAt: '2025-11-16T05:47:34.371Z'
    readBy:
      - 15
      - 20
      - 49
      - 51
  - id: 106
    author: SYSTEM
    subject: Version 1.9.0
    content: "{YFeatures:{x\r\n{y{Y *{x {ytemplate-aware serialization, global template ids, and compression{x\r\n   {yhelpers{x{x\r\n{y{Y *{x {yadded templateId to DungeonObject and SerializedDungeonObject for{x\r\n   {yinstance-template linkage{x{x\r\n{y{Y *{x {ybased compression/normalization on template baselines to omit{x\r\n   {yredundant fields{x{x\r\n{y{Y *{x {yadded shared helpers getCompressionBaseline and{x\r\n   {ycompressSerializedObject to centralize diffing{x{x\r\n{y{Y *{x {ysupported room templates with neutral-coordinate baseline caching for{x\r\n   {yconsistent diffs{x{x\r\n{y{Y *{x {ylocalized template ids when saving dungeons and globalized them on{x\r\n   {yload (@dungeon:id){x{x\r\n{y{Y *{x {yaccepted local templateId in resets and auto-prefixed with current{x\r\n   {ydungeon id on load{x{x\r\n\r\n{GBug Fixes:{x\r\n{g{G *{x {gomitted templateId in uncompressed output when undefined to match{x\r\n   {gserializer expectations{x{x\r\n\r\n{CMiscellaneous:{x\r\n{c{C *{x {cupdated Equipment/Armor/Weapon serializers to build full uncompressed{x\r\n   {cand use shared compression{x{x\r\n{c{C *{x {cresolved templates via registry or global cache with fallback to type{x\r\n   {cbaselines{x{x\r\n{c{C *{x {cupdated data/dungeons/tower.yaml to use local template ids and{x\r\n   {clocalized reset references{x{x"
    postedAt: '2025-11-16T06:00:50.475Z'
    readBy:
      - 15
      - 20
      - 49
      - 51
  - id: 107
    author: SYSTEM
    subject: Version 1.10.0
    content: "{YFeatures:{x\r\n{y{Y *{x {yadd flat-step APIs, caching, and startup pre-cache{x{x\r\n{y{Y *{x {yadded findDirectionsBetweenRooms and findDirectionsViaRefs{x{x\r\n{y{Y *{x {yimplemented suffix-based path cache for direction lookups{x{x\r\n{y{Y *{x {ypre-cached gateway-to-gateway paths across all dungeons in index.ts{x{x\r\n{y{Y *{x {yadded tiny-a and tiny-b dungeons and linked them (# and to tower){x{x\r\n{y{Y *{x {yapplied template-aware compression to mob serializer{x{x\r\n{y{Y *{x {ycompressed equipped by omitting slots matching baseline{x{x\r\n\r\n{CMiscellaneous:{x\r\n{c{C *{x {cmemoized dungeon graph via buildDungeonGraph cache{x{x\r\n{c{C *{x {cconsolidated tests into a single pathfinding.spec.ts{x{x\r\n{c{C *{x {cremoved flaky cross-dungeon chain test assuming vertical moves{x{x\r\n{c{C *{x {cminor spec/test adjustments and logs for clarity{x{x"
    postedAt: '2025-11-17T15:38:57.835Z'
    readBy:
      - 15
      - 20
      - 49
      - 51
  - id: 108
    author: SYSTEM
    subject: Version 1.11.0
    content: "{YFeatures:{x\r\n{y{Y *{x {yrefactor combat system and add experience/leveling features{x{x\r\n{y{Y *{x {yadd damageMessage function with HP percentage display{x{x\r\n{y{Y *{x {ycreated damageMessage function that wraps act() to inject HP{x\r\n   {ypercentage{x{x\r\n{y{Y *{x {yadded HP percentage suffix to user and target messages (not room{x\r\n   {ymessages){x{x\r\n{y{Y *{x {yadd experience gain on mob death{x{x\r\n{y{Y *{x {yadded experience gain to handleDeath function{x{x\r\n{y{Y *{x {yonly players gain experience from kills{x{x\r\n{y{Y *{x {yexperience messages sent to killer{x{x\r\n{y{Y *{x {yadd levelup command{x{x\r\n{y{Y *{x {ycreated levelup command that grants one level's worth of experience{x\r\n   {y(100 XP){x{x\r\n{y{Y *{x {yshows level up message if threshold reached{x{x\r\n\r\n{GBug Fixes:{x\r\n{g{G *{x {gupdated createPrimaryAttributesView to handle non-finite values{x{x\r\n{g{G *{x {gupdated createSecondaryAttributesView to handle non-finite values{x{x\r\n{g{G *{x {gupdated createResourceCapsView to handle non-finite values{x{x\r\n\r\n{CMiscellaneous:{x\r\n{c{C *{x {cupdate accuracy calculation to use 50% base hit chance{x{x\r\n{c{C *{x {cchanged accuracy vs avoidance to use 50% base hit chance with{x\r\n   {cdifference modifier{x{x\r\n{c{C *{x {cclamped hit chance to 5-95% range for reasonable bounds{x{x\r\n{c{C *{x {cmove accuracy checks from calculateDamage to oneHit{x{x\r\n{c{C *{x {cremoved accuracy checks from calculateDamage function{x{x\r\n{c{C *{x {cadded accuracy checks to oneHit method before damage calculation{x{x\r\n{c{C *{x {cupdated processMobCombatRound to use oneHit directly{x{x\r\n{c{C *{x {cmoved damageMessage from Mob static method to combat.ts module{x{x\r\n{c{C *{x {censure experience is always stored as integers{x{x\r\n{c{C *{x {cupdated gainExperience to floor adjusted amount before storing{x{x\r\n{c{C *{x {cupdated experience getter/setter to use Math.floor{x{x\r\n{c{C *{x {cupdated experienceToLevel to use integer calculations{x{x\r\n{c{C *{x {cchange weapon attack power system{x{x\r\n{c{C *{x {cremoved weapon attack power from base attackPower attribute{x\r\n   {ccalculation{x{x\r\n{c{C *{x {cweapons now only add attack power when that specific weapon is used{x{x\r\n{c{C *{x {cupdated oneHit to use baseAttackPower + weapon.attackPower when{x\r\n   {cweapon equipped{x{x\r\n{c{C *{x {cmain hand and off hand weapons now have different attack powers{x{x\r\n{c{C *{x {cmove damageMessage to act module{x{x\r\n{c{C *{x {cmoved damageMessage function from combat.ts to act.ts{x{x\r\n{c{C *{x {cupdated imports in combat.ts and dungeon.ts to use act module{x{x\r\n{c{C *{x {cfixed act.spec.ts test setup to properly create characters with{x\r\n   {ccredentials{x{x\r\n{c{C *{x {cadded message tracking helper to verify act() and damageMessage(){x\r\n   {coutput{x{x\r\n{c{C *{x {cfixed maxHealth calculation in tests by setting attributes to 0{x{x\r\n{c{C *{x {cadded comprehensive test suite for damageMessage function{x{x\r\n{c{C *{x {cmoved toFinite helper function to global scope for reuse{x{x"
    postedAt: '2025-11-17T15:38:57.835Z'
    readBy:
      - 15
      - 20
      - 49
      - 51
  - id: 109
    author: SYSTEM
    subject: Version 1.12.0
    content: "{YFeatures:{x\r\n{y{Y *{x {yadd pure JavaScript version of post-changelog-to-board script{x{x\r\n{y{Y *{x {ycreated pure JavaScript version of post-changelog-to-board in scripts{x\r\n   {ydirectory{x{x\r\n{y{Y *{x {yarguably feature complete{x{x\r\n{y{Y *{x {yadded getCachedPathResult function to retrieve full cached path{x\r\n   {yresults{x{x\r\n{y{Y *{x {yadded OneHitOptions interface with target, weapon, and guaranteedHit{x\r\n   {yoptions{x{x\r\n{y{Y *{x {yadded guaranteedHit option to disable miss chance in oneHit method{x{x\r\n{y{Y *{x {yinitial map editor commit{x{x\r\n{y{Y *{x {yadded map editor with placement tools, undo/redo, and auto-save{x{x\r\n{y{Y *{x {yimplemented initial map editor with dungeon grid visualization and{x\r\n   {ytemplate management{x{x\r\n{y{Y *{x {yadded room, mob, and object template editors with full CRUD{x\r\n   {yoperations{x{x\r\n{y{Y *{x {yimplemented grid-based dungeon layout with multi-layer support{x{x\r\n{y{Y *{x {yadded reset management system for placing mobs and objects in rooms{x{x\r\n{y{Y *{x {ycreated template modal system for editing room, mob, and object{x\r\n   {yproperties{x{x\r\n{y{Y *{x {yadded map text and map color fields to templates with visual color{x\r\n   {yselector{x{x\r\n{y{Y *{x {yimplemented room description field for rooms{x{x\r\n{y{Y *{x {yadded placement indicator showing selected template and placement{x\r\n   {ymode{x{x\r\n{y{Y *{x {yimplemented insert and paint placement modes for rooms{x{x\r\n{y{Y *{x {yadded delete room template option with bulldozer icon indicator{x{x\r\n{y{Y *{x {yimplemented drag-to-place functionality for drawing across multiple{x\r\n   {ycells{x{x\r\n{y{Y *{x {yadded toast notification system for user feedback on actions{x{x\r\n{y{Y *{x {ycreated selection toolbox with rectangle, circle, and squircle{x\r\n   {yselection tools{x{x\r\n{y{Y *{x {yimplemented multi-cell selection with delete key support{x{x\r\n{y{Y *{x {yadded keyboard shortcuts for layer navigation (PageUp/PageDown,{x\r\n   {yHome/End){x{x\r\n{y{Y *{x {yimplemented undo/redo system with Ctrl+Z and Ctrl+Y shortcuts{x{x\r\n{y{Y *{x {yadded localStorage auto-save to prevent data loss on page refresh{x{x\r\n{y{Y *{x {yimplemented restore functionality for unsaved work with user prompt{x{x\r\n{y{Y *{x {yadded visual indicator on save button for unsaved changes{x{x\r\n{y{Y *{x {ymore features{x{x\r\n\r\n{GBug Fixes:{x\r\n{g{G *{x {gresolved mob template editor close issue when opened first{x{x\r\n{g{G *{x {gcorrected template index 0 selection bug{x{x\r\n{g{G *{x {gfixed PageUp/PageDown layer navigation direction{x{x\r\n{g{G *{x {greplaced all alert() calls with toast notifications{x{x\r\n{g{G *{x {gfixed reset tab edit and delete button functionality{x{x\r\n{g{G *{x {gprevented duplicate cell processing during drag operations{x{x\r\n{g{G *{x {gcorrected toast message positioning and stacking behavior{x{x\r\n{g{G *{x {gadded proper event listener cleanup for reset edit modal{x{x\r\n\r\n{CMiscellaneous:{x\r\n{c{C *{x {cremoved TypeScript type annotations and interfaces from{x\r\n   {cpost-changelog-to-board{x{x\r\n{c{C *{x {cupdated import paths to use dist folder for direct execution{x{x\r\n{c{C *{x {cconverted TypeScript interfaces to JSDoc comments where helpful{x{x\r\n{c{C *{x {cupdate pathfinding cache and oneHit method signature{x{x\r\n{c{C *{x {cchanged cache to store full PathResult objects instead of directions{x\r\n   {conly{x{x\r\n{c{C *{x {cupdated cachePathResult to cache complete path results for each{x\r\n   {csuffix path{x{x\r\n{c{C *{x {cupdated getCachedDirections to extract directions from cached{x\r\n   {cPathResult{x{x\r\n{c{C *{x {cchanged oneHit method to use options object instead of regular{x\r\n   {carguments{x{x\r\n{c{C *{x {cupdated all oneHit call sites to use new options object format{x{x\r\n{c{C *{x {csplit dungeon loading into separate server and localStorage restore{x\r\n   {cpaths{x{x\r\n{c{C *{x {cimproved tab system to support independent left and right sidebar{x\r\n   {ctabs{x{x\r\n{c{C *{x {cadded responsive CSS for mobile and tablet screen sizes{x{x\r\n{c{C *{x {cadded placement indicator styling with mode buttons{x{x\r\n{c{C *{x {cadded toast container with gradient fade-out effect{x{x\r\n{c{C *{x {cadded selection tool highlighting and active states{x{x\r\n{c{C *{x {cadded unsaved changes indicator styling for save button{x{x"
    postedAt: '2025-11-18T22:40:29.761Z'
    readBy:
      - 15
      - 20
      - 49
      - 51
  - id: 110
    author: SYSTEM
    subject: Version 1.13.0
    content: "{YFeatures:{x\r\n{y{Y *{x {yadded neo-tokyo dungeon and cross-dungeon template reference in tower{x{x\r\n{y{Y *{x {yadded neo-tokyo dungeon with bubblegum-cannon weapon template{x{x\r\n{y{Y *{x {yadded cross-dungeon template reference in tower reset to neo-tokyo{x\r\n   {ybubblegum-cannon{x{x\r\n{y{Y *{x {yadded equipped and inventory fields to mob resets{x{x\r\n{y{Y *{x {yadded equipped and inventory arrays to Reset class for mob spawning{x{x\r\n{y{Y *{x {yadded EquipmentTemplate, ArmorTemplate, and WeaponTemplate interfaces{x{x\r\n{y{Y *{x {yupdated createFromTemplate to use template-specific properties for{x\r\n   {yequipment{x{x\r\n{y{Y *{x {yupdated applyTemplate methods to accept specific template types{x{x\r\n{y{Y *{x {yupdated reset serialization to include equipped and inventory{x\r\n   {ytemplate IDs{x{x\r\n{y{Y *{x {yupdated reset deserialization to restore equipped and inventory{x\r\n   {yarrays{x{x\r\n{y{Y *{x {yadded unit tests for reset equipped and inventory functionality{x{x\r\n{y{Y *{x {yset default prompt with colored stats display{x{x\r\n{y{Y *{x {yadded default prompt showing health, mana, exhaustion, xp, and tnl{x\r\n   {ywith light colors{x{x\r\n\r\n{GBug Fixes:{x\r\n{g{G *{x {gupdated character.spec.ts test for DEFAULT_PLAYER_SETTINGS prompt{x\r\n   {gvalue{x{x\r\n{g{G *{x {gupdated cross-dungeon template resolution in Reset.execute() to use{x\r\n   {gresolveTemplateById(){x{x\r\n{g{G *{x {gcorrected resolveTemplateById() to use globalized template IDs for{x\r\n   {glookups{x{x\r\n{g{G *{x {gimprove template index validation in dungeon loading{x{x\r\n{g{G *{x {gadded null, undefined, and NaN checks for template indices{x{x\r\n{g{G *{x {gconvert template index to number before arithmetic operations{x{x\r\n{g{G *{x {guse asterisk instead of UTF-8 bullet for telnet compatibility{x{x\r\n{g{G *{x {greplaced UTF-8 bullet character with asterisk in board message{x\r\n   {gnotifications{x{x\r\n{g{G *{x {ghandle null/undefined values in dungeon grid during load{x{x\r\n\r\n{CMiscellaneous:{x\r\n{c{C *{x {cAdded support for equipping items and adding inventory items when{x\r\n   {cspawning mobs from resets. Also added type-safe template interfaces{x\r\n   {cfor Equipment, Armor, and Weapon.{x{x\r\n{c{C *{x {cmoved equipment helpers and fixed cross-dungeon template resolution{x{x\r\n{c{C *{x {cmoved equipment helper functions from commands/equipment.ts to{x\r\n   {cequipment.ts{x{x\r\n{c{C *{x {cFixed issue where null values in YAML grid (represented as '-' in{x\r\n   {cYAML) caused 'template at index NaN is undefined' errors when loading{x\r\n   {cdungeons. The code now properly treats null, undefined, and NaN{x\r\n   {cvalues as empty cells (0), skipping them during dungeon loading. Also{x\r\n   {censures templateIndex is explicitly converted to Number before{x\r\n   {carithmetic operations.{x{x"
    postedAt: '2025-11-19T06:09:48.689Z'
    readBy:
      - 15
      - 20
      - 49
      - 51
  - id: 111
    author: SYSTEM
    subject: Version 1.14.0
    content: "{YFeatures:{x\r\n{y{Y *{x {yadded mob behavior system with aggressive, wimpy, and wander{x\r\n   {ybehaviors{x{x\r\n{y{Y *{x {yadded BEHAVIOR enum and behavior dictionary to Mob class{x{x\r\n{y{Y *{x {yadded WANDERING_MOBS cache for efficient wander behavior processing{x{x\r\n{y{Y *{x {yadded onStep event hook to Movable class for post-movement behavior{x{x\r\n{y{Y *{x {yimplemented aggressive behavior processing in room.onEnter and{x\r\n   {ymob.onStep{x{x\r\n{y{Y *{x {yadded wander behavior timer in game.ts (30 second interval){x{x\r\n{y{Y *{x {yadded behavior.ts module with processAggressiveBehavior,{x\r\n   {yprocessWimpyBehavior, and processWanderBehavior functions{x{x\r\n{y{Y *{x {yadded BEHAVIOR_SYSTEM.md documentation for map editor integration{x{x\r\n{y{Y *{x {yadded checkAggressiveBehaviorInRoom function to check for targets{x\r\n   {yafter wandering{x{x\r\n{y{Y *{x {yadded object ID (OID) system for dungeon objects{x{x\r\n{y{Y *{x {yadded nextObjectId counter to gamestate package{x{x\r\n{y{Y *{x {yadded oid property to DungeonObject class{x{x\r\n{y{Y *{x {yadded getNextObjectIdSync() function for synchronous OID generation{x{x\r\n{y{Y *{x {ymade oid optional in SerializedDungeonObject (present for instances,{x\r\n   {yabsent for templates){x{x\r\n{y{Y *{x {yupdated toTemplate() to exclude oid from templates{x{x\r\n{y{Y *{x {yupdated compression logic to handle optional oid{x{x\r\n{y{Y *{x {yadded initial wander cycle after dungeon load before starting timer{x{x\r\n{y{Y *{x {yadded object ID (OID) system for dungeon objects{x{x\r\n{y{Y *{x {yadded nextObjectId counter to gamestate package{x{x\r\n{y{Y *{x {yadded oid property to DungeonObject class{x{x\r\n{y{Y *{x {yadded getNextObjectIdSync() function for synchronous OID generation{x{x\r\n{y{Y *{x {ymade oid optional in SerializedDungeonObject (present for instances,{x\r\n   {yabsent for templates){x{x\r\n{y{Y *{x {yupdated toTemplate() to exclude oid from templates{x{x\r\n{y{Y *{x {yupdated compression logic to handle optional oid{x{x\r\n{y{Y *{x {ycentralized social commands in social.ts module with auto-generation{x{x\r\n{y{Y *{x {yadded gocial command for global social messages{x{x\r\n{y{Y *{x {yadded GOCIAL channel for global social communication{x{x\r\n{y{Y *{x {ycreated locations package with YAML config for game locations{x{x\r\n{y{Y *{x {yadded recall command to teleport players to recall location{x{x\r\n{y{Y *{x {yimplemented name blocking system during character creation{x{x\r\n{y{Y *{x {ycreated reserved names package for blocking inappropriate/IP names{x{x\r\n\r\n{GBug Fixes:{x\r\n{g{G *{x {gupdated all manually created serialized objects in tests to include{x\r\n   {goid{x{x\r\n{g{G *{x {gupdated all manually created serialized objects in tests to include{x\r\n   {goid{x{x\r\n{g{G *{x {gfixed location validation to re-throw errors instead of treating them{x\r\n   {gas file read errors{x{x\r\n{g{G *{x {gfixed locations.spec.ts to use Room class directly in instanceof{x\r\n   {gchecks{x{x\r\n\r\n{CMiscellaneous:{x\r\n{c{C *{x {cadded guaranteedHit flag to damage modifier tests in combat.spec.ts{x{x\r\n{c{C *{x {cmoved aggressive behavior check from onStep to wander function{x{x\r\n{c{C *{x {cremoved onStep override from Mob class that checked aggressive{x\r\n   {cbehavior{x{x\r\n{c{C *{x {cupdated processWanderBehavior to check aggressive behavior in final{x\r\n   {cdestination room{x{x\r\n{c{C *{x {caggressive behavior now only triggers for wandering mobs at final{x\r\n   {cdestination{x{x\r\n{c{C *{x {cupdated all test objects to use oid: -1{x{x\r\n{c{C *{x {cupdated base serialized types to use oid: -1{x{x\r\n{c{C *{x {cupdated all test objects to use oid: -1{x{x\r\n{c{C *{x {cupdated base serialized types to use oid: -1{x{x\r\n{c{C *{x {cadded unit tests for package loaders and fixed location validation{x{x\r\n{c{C *{x {cadded unit tests for reserved names package{x{x\r\n{c{C *{x {cadded unit tests for archetype package loader{x{x\r\n{c{C *{x {cadded unit tests for board package loader{x{x\r\n{c{C *{x {cadded unit tests for locations package loader{x{x"
    postedAt: '2025-11-19T22:04:46.456Z'
    readBy:
      - 15
      - 49
      - 51
  - id: 112
    author: SYSTEM
    subject: Version 1.15.0
    content: "{YFeatures:{x\r\n{y{Y *{x {yadded combat movement restrictions and minimap improvements{x{x\r\n{y{Y *{x {ydisabled movement commands when player is in combat{x{x\r\n{y{Y *{x {yadded generateMinimapFromSteps function that respects portals and{x\r\n   {yroom links{x{x\r\n{y{Y *{x {yadded vision blocking for dense rooms in minimap generation{x{x\r\n{y{Y *{x {yupdated look command to use new minimap generation function{x{x\r\n{y{Y *{x {yadded web-based map editor for dungeon editing{x{x\r\n{y{Y *{x {yadded map editor HTTP server with API endpoints for dungeon{x\r\n   {ymanagement{x{x\r\n{y{Y *{x {yadded map editor frontend with HTML, CSS, and JavaScript{x{x\r\n{y{Y *{x {yadded start script for map editor server{x{x\r\n{y{Y *{x {yadded debug logging setup script for map editor development{x{x\r\n{y{Y *{x {yadded flee command for escaping combat{x{x\r\n{y{Y *{x {yadded flee command with 5-second cooldown that allows players to{x\r\n   {yattempt escape from combat{x{x\r\n{y{Y *{x {yflee command can only be used when player is in combat{x{x\r\n{y{Y *{x {yflee command has 33% chance of failure with act message{x{x\r\n{y{Y *{x {yflee command sends act message when player successfully flees to a{x\r\n   {yrandom direction{x{x\r\n{y{Y *{x {yflee command bypasses combat movement restriction by calling{x\r\n   {yactor.step() directly{x{x\r\n\r\n{CMiscellaneous:{x\r\n{c{C *{x {cupdated attack command to use PRIORITY.LOW and added ~ to aliases{x{x\r\n{c{C *{x {cupdated package.json scripts for map editor integration{x{x\r\n{c{C *{x {cadded mud3-dungeon-editor to .gitignore{x{x\r\n{c{C *{x {cremoved dungeon package dependency from reservedNames package{x{x"
    postedAt: '2025-11-20T16:47:35.224Z'
    readBy:
      - 49
      - 51
  - id: 113
    author: SYSTEM
    subject: Version 1.16.0
    content: "{YFeatures:{x\r\n{y{Y *{x {yadd portable electron build tooling{x{x\r\n{y{Y *{x {yadded electron-builder config, icon pipeline, and assets{x{x\r\n{y{Y *{x {yupdated electron bootstrap, services, and logger to use safe paths{x\r\n   {yand structured renderer logging{x{x\r\n{y{Y *{x {yrefreshed map editor frontend bundle and package data modules for new{x\r\n   {ybuild{x{x\r\n{y{Y *{x {yadd post-processing for electron builds{x{x\r\n{y{Y *{x {yadded post build steps for win/mac portable artifacts{x{x\r\n{y{Y *{x {yintegrate map editor and tooling{x{x\r\n{y{Y *{x {ybundled the in-repo dungeon map editor UI with new selection tools,{x\r\n   {yplacement modes, undo/redo history, template modals, and richer{x\r\n   {yhelp/toast UX.{x{x\r\n{y{Y *{x {yadded a map editor service plus HTTP and electron entrypoints that{x\r\n   {yexpose dungeon CRUD, race/job/hit-type data, attribute calculations,{x\r\n   {yand safe portable paths.{x{x\r\n{y{Y *{x {yextended dungeon serialization, data packages, and specs to persist{x\r\n   {ydungeon metadata, improve templates, and broaden{x\r\n   {yserializer/template/location coverage.{x{x\r\n{y{Y *{x {yadded line and grouped edge selection buttons in toolbox{x{x\r\n{y{Y *{x {yformat dungeon grid rows{x{x\r\n{y{Y *{x {yreformatted `data/dungeons/tower.yaml` so each grid row renders as a{x\r\n   {ysingle inline array.{x{x\r\n{y{Y *{x {yadjusted `jsyaml.dump` flow level to preserve the new row formatting{x\r\n   {ywhen saving from the editor.{x{x\r\n{y{Y *{x {ytighten map editor security{x{x\r\n{y{Y *{x {yenforced a local js-yaml bundle plus CSP so the electron renderer{x\r\n   {yavoids external scripts and warnings.{x{x\r\n{y{Y *{x {yordered dungeon YAML serialization to keep core fields readable and{x\r\n   {ydeterministic.{x{x\r\n{y{Y *{x {yaligned sidebar tabs with the toolbox bar using shared toolbar sizing{x\r\n   {yvars.{x{x\r\n{y{Y *{x {ypolish template and reset controls{x{x\r\n{y{Y *{x {ymoved template action buttons under descriptions for clarity{x{x\r\n{y{Y *{x {yrestyled reset list cards and icons to match template panel{x{x\r\n\r\n{GBug Fixes:{x\r\n{g{G *{x {gimprove selection tools behavior and ui{x{x\r\n{g{G *{x {gkept selection tool active when placing templates on selections{x{x\r\n{g{G *{x {greturned early to skip template selection toggling after bulk{x\r\n   {gplacement{x{x\r\n{g{G *{x {gensured toast stack respects toolbox and placement indicator bounds{x{x\r\n\r\n{CMiscellaneous:{x\r\n{c{C *{x {cremoved obsolete behavior docs and legacy index entrypoint{x{x\r\n{c{C *{x {cconfigured mac dmg build target and npm script{x{x\r\n{c{C *{x {censured portable executables/dmg moved to project root{x{x\r\n{c{C *{x {cintroduced svg/ico assets with a sharp-based generator, updated npm{x\r\n   {cscripts, and configured electron builder output.{x{x\r\n{c{C *{x {cremoved outdated docs/entrypoints and refreshed tower data along with{x\r\n   {cmap editor logging and path handling.{x{x\r\n{c{C *{x {cupdated selection controls and toast positioning styles{x{x"
    postedAt: '2025-11-21T16:57:52.459Z'
    readBy:
      - 49
      - 51
  - id: 114
    author: SYSTEM
    subject: Version 1.17.0
    content: "{YFeatures:{x\r\n{y{Y *{x {ydungedit now properly supports macOS .app generation{x{x"
    postedAt: '2025-11-21T16:57:52.459Z'
    readBy:
      - 49
      - 51
  - id: 115
    author: SYSTEM
    subject: Version 1.18.0
    content: "{YFeatures:{x\r\n{y{Y *{x {yadd pure power passive and movement cooldown gating{x{x\r\n{y{Y *{x {yadded Pure Power passive ability and applied multiplier in Mob{x\r\n   {yattacks{x{x\r\n{y{Y *{x {yrequired whirlwind command to be known, alive, and in-room before{x\r\n   {ycooldown applied{x{x\r\n{y{Y *{x {ygated movement and flee cooldowns and set directional commands to low{x\r\n   {ypriority{x{x\r\n{y{Y *{x {ymapped YAML data to JSON schemas and added VS Code schema{x\r\n   {yassociations{x{x\r\n{y{Y *{x {yadded ability system with learned abilities and dynamic command{x\r\n   {yloading{x{x\r\n{y{Y *{x {yadded Ability interface in src/ability.ts{x{x\r\n{y{Y *{x {yadded ability loader in src/package/abilities.ts that loads{x\r\n   {yTypeScript abilities from dist/src/abilities{x{x\r\n{y{Y *{x {yadded learned abilities Map to Mob class with proficiency tracking{x\r\n   {y(0-100){x{x\r\n{y{Y *{x {yadded knowsAbility, addAbility, and removeAbility helper methods to{x\r\n   {yMob class{x{x\r\n{y{Y *{x {yupdated SerializedMob interface to include learnedAbilities field{x{x\r\n{y{Y *{x {yupdated Mob serialize and deserialize methods to persist learned{x\r\n   {yabilities{x{x\r\n{y{Y *{x {yregistered ability loader in package system (index.ts){x{x\r\n{y{Y *{x {ycreated example whirlwind ability in src/abilities/whirlwind.ts{x{x\r\n{y{Y *{x {ycreated learn command in src/commands/learn.ts for learning abilities{x{x\r\n{y{Y *{x {yadded AbilityCommand class that requires actor to know ability before{x\r\n   {ymatching{x{x\r\n{y{Y *{x {yupdated CommandRegistry.execute to skip ability commands if actor{x\r\n   {ydoesn't know the ability{x{x\r\n{y{Y *{x {yadded abilityName option to oneHit for custom damage messages{x{x\r\n{y{Y *{x {yadded attackPowerBonus and attackPowerMultiplier options to oneHit{x\r\n   {yfor dynamic damage scaling{x{x\r\n{y{Y *{x {yupdated whirlwind ability to use abilityName and{x\r\n   {yattackPowerMultiplier{x{x\r\n{y{Y *{x {yadded change tracking system and improved map editor UX{x{x\r\n{y{Y *{x {yadded change tracking system with history panel{x{x\r\n{y{Y *{x {yadded expandable metadata details when selecting history entries{x{x\r\n{y{Y *{x {yadded selection bounds and shape metadata to placement operations{x{x\r\n{y{Y *{x {yadded schemas for data files{x{x\r\n{y{Y *{x {yadded visual indicators and status bar improvements{x{x\r\n{y{Y *{x {yadded triangle arrow indicators for UP and DOWN exits on grid cells{x{x\r\n{y{Y *{x {ychanged exit override indicator from lightning bolt to warning{x\r\n   {ytriangle symbol{x{x\r\n{y{Y *{x {yadded status bar at bottom of editor showing template, tool, mode,{x\r\n   {yposition, history, and changes{x{x\r\n{y{Y *{x {yimplemented flood fill paint mode for mobs and objects{x{x\r\n{y{Y *{x {yimplemented edge-line selection tool to create frame around line with{x\r\n   {ytwo parallel lines and connecting segments{x{x\r\n{y{Y *{x {yadded theme system and improved map editor UI{x{x\r\n{y{Y *{x {yadded dark and light theme system with toggle button{x{x\r\n{y{Y *{x {yimplemented theme persistence using localStorage{x{x\r\n{y{Y *{x {ycreated dark.css and light.css with futuristic styling{x{x\r\n{y{Y *{x {yadded theme-init.js for CSP-compliant theme loading{x{x\r\n{y{Y *{x {yadded spin animation for theme toggle button{x{x\r\n{y{Y *{x {yreplaced up/down exit text with ^ and V arrows in minimap grid{x{x\r\n{y{Y *{x {yimproved reset editor modal with min/max count on same line{x{x\r\n{y{Y *{x {yupdated exit override modal to show capitalized direction names{x{x\r\n{y{Y *{x {yadded styling for add/edit exit override button{x{x\r\n{y{Y *{x {yupdated help box with theme and reset action documentation{x{x\r\n{y{Y *{x {yimproved template info box colors for light theme{x{x\r\n{y{Y *{x {ydisabled text highlighting globally while preserving input{x\r\n   {yfunctionality{x{x\r\n{y{Y *{x {yadded weaponType field with default to shortsword{x{x\r\n{y{Y *{x {yadded weaponType field to Weapon class and interfaces{x{x\r\n{y{Y *{x {ydefaulted weaponType to shortsword when not provided{x{x\r\n{y{Y *{x {yadded weaponType support to map editor{x{x\r\n{y{Y *{x {yexit overrides can now add roomlinks as well as the allowed exits{x{x\r\n{y{Y *{x {yworking on web-client{x{x\r\n{y{Y *{x {yadded proficiency increase notifications{x{x\r\n{y{Y *{x {yadded automatic combat initiation on damage{x{x\r\n{y{Y *{x {ynow auto-focuses command input on interaction{x{x\r\n\r\n{GBug Fixes:{x\r\n{g{G *{x {gcleared selection tools when switching to paint flood-fill mode{x{x\r\n{g{G *{x {gremoved misuse of newParameters/oldParameters in selection placements{x{x\r\n{g{G *{x {gadded filledCount metadata to paint flood-fill change history{x{x\r\n{g{G *{x {gupdated status bar to show selected template and tool, not active{x\r\n   {gusage state{x{x\r\n{g{G *{x {gcorrected status bar template check to handle template ID 0 correctly{x{x\r\n{g{G *{x {gcorrected paint mode history tracking for mobs and objects to only{x\r\n   {grecord when cells are actually painted{x{x\r\n{g{G *{x {gensured edge-line selection always includes start and end cells of{x\r\n   {goriginal line{x{x\r\n{g{G *{x {gcorrected selection clearing behavior to clear previous selection{x\r\n   {gwhen starting new selection with any tool{x{x\r\n{g{G *{x {gimproved weapon type dropdown UX{x{x\r\n{g{G *{x {gfixed dungeon test, proficiency at uses, and reciprocal combat{x{x\r\n{g{G *{x {gfixed dungeon test message tracking{x{x\r\n{g{G *{x {gimproved minimap display and web client UX{x{x\r\n{g{G *{x {gdisplay room link overrides for UP/DOWN directions{x{x\r\n\r\n{CMiscellaneous:{x\r\n{c{C *{x {cconfigured prettier to use spaces in json/yaml and quoted game name{x\r\n   {cin config{x{x\r\n{c{C *{x {cupdated gamestate counters to the latest saved values{x{x\r\n{c{C *{x {cadded unit tests for ability name and attack power modifiers in{x\r\n   {coneHit{x{x\r\n{c{C *{x {creplaced direct localStorage auto-save with change tracking system{x{x\r\n{c{C *{x {cupdated undo/redo to use change timeline instead of history stack{x{x\r\n{c{C *{x {cstandardized change metadata structure across all editor operations{x{x\r\n{c{C *{x {cmade status bar sections equal width using flex: 1{x{x\r\n{c{C *{x {cremoved padding from grid container to make column headers flush with{x\r\n   {cgrid{x{x\r\n{c{C *{x {cremoved horizontal padding from tabs to make them flush with sidebar{x\r\n   {cedges{x{x\r\n{c{C *{x {crenamed style.css to dark.css and extracted grid.css{x{x\r\n{c{C *{x {capplied glassmorphism and neon glow effects to UI elements{x{x\r\n{c{C *{x {cconverted hardcoded colors to CSS variables for easier theming{x{x\r\n{c{C *{x {cCreated WeaponType union type and WEAPON_TYPES constant array{x{x\r\n{c{C *{x {cAdded type field to WeaponOptions interface{x{x\r\n{c{C *{x {cAdded weaponType field to SerializedWeapon and WeaponTemplate{x\r\n   {cinterfaces{x{x\r\n{c{C *{x {cMade weaponType optional in WeaponTemplate to allow defaulting{x{x\r\n{c{C *{x {cUpdated Weapon constructor to default to \"shortsword\" if type is{x\r\n   {cundefined{x{x\r\n{c{C *{x {cUpdated Weapon.deserialize to default to \"shortsword\" if weaponType{x\r\n   {cis undefined{x{x\r\n{c{C *{x {cUpdated Weapon.applyTemplate to default to \"shortsword\" if weaponType{x\r\n   {cis undefined{x{x\r\n{c{C *{x {cUpdated createFromTemplate to default to \"shortsword\" if weaponType{x\r\n   {cis undefined{x{x\r\n{c{C *{x {cUpdated serializedToOptions to include weaponType in Weapon case{x{x\r\n{c{C *{x {cAdded getWeaponTypes method to MapEditorService{x{x\r\n{c{C *{x {cAdded /api/weapon-types endpoint to map editor server{x{x\r\n{c{C *{x {cAdded getWeaponTypes IPC handler in Electron main process{x{x\r\n{c{C *{x {cAdded getWeaponTypes to preload API{x{x\r\n{c{C *{x {cAdded fetchWeaponTypesData method to frontend{x{x\r\n{c{C *{x {cIntegrated weapon types loading into loadRacesAndJobs initialization{x{x\r\n{c{C *{x {cAdded weapon type dropdown selector to weapon template modal{x{x\r\n{c{C *{x {cDefaulted weapon type selection to \"shortsword\" when template has no{x\r\n   {cweaponType{x{x\r\n{c{C *{x {cRemoved empty \"Select a weapon type...\" option{x{x\r\n{c{C *{x {cStyled weapon type options to match hitType dropdown (dark background{x\r\n   {cwith readable text){x{x\r\n{c{C *{x {cImproved readability with #1a1a1a background and #ffffff text color{x{x\r\n{c{C *{x {cFixed test character message tracking to properly capture messages{x\r\n   {cwithout calling the original sendMessage method, which would return{x\r\n   {cearly due to missing session/client in test environment.{x{x\r\n{c{C *{x {csimplified getProficiencyAtUses function{x{x\r\n{c{C *{x {cRemoved unnecessary \"closestUses\" fallback logic from{x\r\n   {cgetProficiencyAtUses since proficiency tables are now generated with{x\r\n   {call entries from 0 to maxUses. Updated test to verify all values in{x\r\n   {cgenerated table are accessible.{x{x\r\n{c{C *{x {cAdded notification messages when ability proficiency increases in{x\r\n   {cuseAbilityById method. Mobs are now informed when their proficiency{x\r\n   {cwith an ability goes up.{x{x\r\n{c{C *{x {cAdded combat initiation logic to damage method that automatically{x\r\n   {cengages combat when:{x{x\r\n{c{C *{x {cAttacker hits target and attacker is not in combat{x{x\r\n{c{C *{x {cAttacker hits target and target is not in combat{x{x\r\n{c{C *{x {cBoth mobs are in the same room and both are alive{x{x\r\n{c{C *{x {cUpdated getRoomAt to merge roomLinks from exit overrides{x{x\r\n{c{C *{x {cModified arrow indicator code to check both allowedExits and{x\r\n   {croomLinks for UP/DOWN{x{x\r\n{c{C *{x {cRoom link overrides for vertical directions now properly display{x\r\n   {carrow overlays{x{x\r\n{c{C *{x {creduced minimap vertical height{x{x\r\n{c{C *{x {cChanged height calculation from size * 2 + 1 to (size - 2) * 2 + 1{x{x\r\n{c{C *{x {cWidth remains size * 2 + 1{x{x\r\n{c{C *{x {cMinimap is now shorter vertically while maintaining horizontal width{x{x\r\n{c{C *{x {crewrote colorizeForWeb to use sequential spans{x{x\r\n{c{C *{x {cReplaced stack-based nested span approach with sequential span{x\r\n   {cgeneration{x{x\r\n{c{C *{x {cEach color code now closes previous span and starts new one{x{x\r\n{c{C *{x {cReset codes close current span without starting new one{x{x\r\n{c{C *{x {cProduces flat HTML structure instead of nested spans{x{x\r\n{c{C *{x {cAdded click handler on output window to focus command input{x{x\r\n{c{C *{x {cAdded window focus event listener to focus input when tabbing back{x\r\n   {cinto window{x{x\r\n{c{C *{x {cImproves UX by keeping input focused for immediate typing{x{x"
    postedAt: '2025-11-24T16:51:54.175Z'
    readBy:
      - 49
      - 51
  - id: 116
    author: SYSTEM
    subject: Version 1.19.0
    content: "{YFeatures:{x\r\n{y{Y *{x {yadded busy mode system for message queuing{x{x\r\n{y{Y *{x {yadded busy command for managing busy mode{x{x\r\n{y{Y *{x {yadded busy mode settings and message queuing{x{x\r\n{y{Y *{x {ydump queued messages when exiting combat{x{x\r\n{y{Y *{x {yimproved death handling and player mob combat{x{x\r\n{y{Y *{x {yadded graveyard respawn for player characters{x{x\r\n{y{Y *{x {yenhanced death messages and killer handling{x{x\r\n\r\n{GBug Fixes:{x\r\n{g{G *{x {gclear combat target when fleeing{x{x\r\n{g{G *{x {gexclude user from movement act messages{x{x\r\n{g{G *{x {gimproved initiateCombat for player mobs{x{x\r\n\r\n{CMiscellaneous:{x\r\n{c{C *{x {cSupports toggling busy mode on/off{x{x\r\n{c{C *{x {cSupports toggling combat busy mode on/off{x{x\r\n{c{C *{x {cSupports forwarding message groups to answering machine{x{x\r\n{c{C *{x {cSupports reading queued messages{x{x\r\n{c{C *{x {cIncludes status display showing current busy mode state and queued{x\r\n   {cmessage count{x{x\r\n{c{C *{x {cAdded busyModeEnabled and combatBusyModeEnabled settings to{x\r\n   {cPlayerSettings{x{x\r\n{c{C *{x {cAdded busyForwardedGroups and combatBusyForwardedGroups sets for{x\r\n   {cconfigurable message forwarding{x{x\r\n{c{C *{x {cAdded MESSAGE_GROUP_NAMES dictionary for command parsing{x{x\r\n{c{C *{x {cAdded QueuedMessage interface and queuedMessages array to{x\r\n   {cPlayerSession{x{x\r\n{c{C *{x {cImplemented isBusyModeActive to check if busy mode should be active{x{x\r\n{c{C *{x {cImplemented getActiveForwardedGroups to get forwarded groups for{x\r\n   {ccurrent mode{x{x\r\n{c{C *{x {cModified sendMessage to queue messages when busy mode is active{x{x\r\n{c{C *{x {cAdded formatCallWaitingLine to show queued message indicator in{x\r\n   {cprompt{x{x\r\n{c{C *{x {cAdded readQueuedMessages to read and display queued messages with{x\r\n   {ctimestamps{x{x\r\n{c{C *{x {cAdded serialization support for busy mode settings{x{x\r\n{c{C *{x {cModified removeFromCombatQueue to dump queued messages when player{x\r\n   {cexits combat{x{x\r\n{c{C *{x {cOnly dumps if combat busy mode is enabled{x{x\r\n{c{C *{x {cSends system message indicating how many messages were dumped{x{x\r\n{c{C *{x {creduced movement cooldown and improved messaging{x{x\r\n{c{C *{x {cChanged movement cooldown from 300ms to 100ms{x{x\r\n{c{C *{x {cRefactored cooldown function into getCooldownFunctionForDirection{x{x\r\n{c{C *{x {cAdded movement confirmation message sent directly to player{x{x\r\n{c{C *{x {cModified room act to exclude user from movement message (user sees{x\r\n   {cseparate message){x{x\r\n{c{C *{x {cAdded combatTarget clearing in flee command to properly disengage{x\r\n   {cfrom combat{x{x\r\n{c{C *{x {cadded rapid command detection{x{x\r\n{c{C *{x {cAdded lastCommandTime tracking per character{x{x\r\n{c{C *{x {cDetects commands within 10ms window as rapid succession{x{x\r\n{c{C *{x {cRapid commands reset lastMessageGroup to prevent message grouping{x\r\n   {cissues{x{x\r\n{c{C *{x {cAdded cleanup of command tracking on disconnect{x{x\r\n{c{C *{x {cModified Mob.step to exclude user from room act messages{x{x\r\n{c{C *{x {cUser now receives separate movement confirmation message{x{x\r\n{c{C *{x {cPlayer characters are now moved to graveyard on death{x{x\r\n{c{C *{x {cResources are reset using resetResources method{x{x\r\n{c{C *{x {cRoom is shown to player after respawn{x{x\r\n{c{C *{x {cNPCs are destroyed on death instead of being preserved{x{x\r\n{c{C *{x {cDeath messages now include killer information for the slain player{x{x\r\n{c{C *{x {cAdded kill confirmation message for player killers{x{x\r\n{c{C *{x {cNPC killers now process threat switching after kill{x{x\r\n{c{C *{x {cPlayer killers clear combat target and receive kill message{x{x\r\n{c{C *{x {cFixed recursive initiateCombat calls to prevent infinite loops{x{x\r\n{c{C *{x {cPlayer mobs now properly engage in combat when attacked{x{x\r\n{c{C *{x {cAdded check to prevent duplicate threat addition{x{x\r\n{c{C *{x {cadded player mob combat tests{x{x\r\n{c{C *{x {cAdded test to ensure player mob defenders initiate combat{x{x\r\n{c{C *{x {cReplaced strictEqual with assert.ok for object comparisons{x{x\r\n{c{C *{x {cImproved test output readability by avoiding object dumps{x{x"
    postedAt: '2025-11-25T23:36:21.668Z'
    readBy:
      - 49
      - 51
  - id: 117
    author: SYSTEM
    subject: Version 1.20.0
    content: "{YFeatures:{x\r\n{y{Y *{x {yadded regeneration system with Spirit attribute and rest command{x{x\r\n{y{Y *{x {yimplemented automatic resource regeneration system{x{x\r\n{y{Y *{x {yadded rest command for manual resource recovery{x{x\r\n{y{Y *{x {yadded Spirit secondary attribute{x{x\r\n{y{Y *{x {yintegrated regeneration tracking into resource management{x{x\r\n{y{Y *{x {yadded regeneration timer to game loop{x{x\r\n{y{Y *{x {yadded Spirit attribute to mob template modal{x{x\r\n{y{Y *{x {yenhanced combat messages with colored verbs and ASCII art kill{x\r\n   {ymessages{x{x\r\n{y{Y *{x {yadded ASCII art for kill messages{x{x\r\n{y{Y *{x {yadded combat round indicator for players{x{x\r\n{y{Y *{x {yadded color field to hit types{x{x\r\n{y{Y *{x {yapplied hit type colors to combat verb messages{x{x\r\n{y{Y *{x {yadded color field to hit types API response{x{x\r\n\r\n{GBug Fixes:{x\r\n{g{G *{x {gimproved dropdown menu readability in dark theme{x{x\r\n{g{G *{x {gupdated dropdown option styling for better contrast{x{x\r\n\r\n{CMiscellaneous:{x\r\n{c{C *{x {cAdded regeneration set to track mobs needing resource recovery{x{x\r\n{c{C *{x {cImplemented processRegeneration to apply health, mana, and exhaustion{x\r\n   {crecovery every 30 seconds{x{x\r\n{c{C *{x {cDifferent regeneration rates for in-combat (1%) and out-of-combat{x\r\n   {c(10%) states{x{x\r\n{c{C *{x {cMobs automatically added to regeneration set when resources change{x{x\r\n{c{C *{x {cMobs removed from set when fully regenerated{x{x\r\n{c{C *{x {cAdded Spirit attribute bonus system (1 Spirit = 5% regeneration{x\r\n   {cincrease){x{x\r\n{c{C *{x {cImplemented restRegeneration function for burst regeneration with{x\r\n   {cSpirit bonuses{x{x\r\n{c{C *{x {cAdded rest command with 5 second cooldown{x{x\r\n{c{C *{x {cProvides burst regeneration (20% health, 20% mana, 20 exhaustion{x\r\n   {creduction){x{x\r\n{c{C *{x {cRespects Spirit attribute bonuses{x{x\r\n{c{C *{x {cPrevents resting in combat or when already at full capacity{x{x\r\n{c{C *{x {cShows colored recovery messages for health, mana, and exhaustion{x{x\r\n{c{C *{x {cAdded spirit to SecondaryAttributeSet interface{x{x\r\n{c{C *{x {cSpirit does not scale with primary attributes (base value 0){x{x\r\n{c{C *{x {cIncluded in attribute calculations and views{x{x\r\n{c{C *{x {cAdded spirit getter to Mob class{x{x\r\n{c{C *{x {cHealth, mana, and exhaustion setters now automatically add mobs to{x\r\n   {cregeneration set{x{x\r\n{c{C *{x {cAdded gainExhaustion method to Mob class for actions that cost{x\r\n   {cexhaustion{x{x\r\n{c{C *{x {cExhaustion is clamped between 0 and MAX_EXHAUSTION{x{x\r\n{c{C *{x {cRemoved explicit addToRegenerationSet call from damage method (now{x\r\n   {chandled by setter){x{x\r\n{c{C *{x {cAdded regenerationTimer to Game class{x{x\r\n{c{C *{x {cRegeneration runs every 30 seconds using setAbsoluteInterval{x{x\r\n{c{C *{x {cTimer is properly cleared when game stops{x{x\r\n{c{C *{x {cAdded spirit to secondaryAttrs array for input field generation{x{x\r\n{c{C *{x {cIncluded spirit in secondaryAttributeBonuses collection when saving{x\r\n   {ctemplates{x{x\r\n{c{C *{x {cAdded Spirit display in calculated attributes section{x{x\r\n{c{C *{x {cReplaced plain \"You have slain X!\" message with 3-line ASCII art{x{x\r\n{c{C *{x {cASCII art displays \"SLAIN\" in crimson color{x{x\r\n{c{C *{x {c\"You have\" text appears on left of middle line, mob name on right{x{x\r\n{c{C *{x {cCreates visually striking kill confirmation message{x{x\r\n{c{C *{x {cPlayers in combat now see \"[COMBAT ROUND]\" message at start of each{x\r\n   {cround{x{x\r\n{c{C *{x {cIndicator is colored yellow and appears on a new line{x{x\r\n{c{C *{x {cOnly shown to player characters who are in combat{x{x\r\n{c{C *{x {cremoved redundant health checks in combat processing{x{x\r\n{c{C *{x {cRemoved health <= 0 checks from processMobCombatRound{x{x\r\n{c{C *{x {cDeath handling is now centralized in handleDeath function{x{x\r\n{c{C *{x {cSimplifies combat round processing logic{x{x\r\n{c{C *{x {cAdded optional color field to HitType interface{x{x\r\n{c{C *{x {cColors default to COLOR.WHITE if not specified{x{x\r\n{c{C *{x {cPhysical damage types use WHITE{x{x\r\n{c{C *{x {cFire damage types use CRIMSON{x{x\r\n{c{C *{x {cIce damage types use CYAN{x{x\r\n{c{C *{x {cElectric damage types use YELLOW{x{x\r\n{c{C *{x {cWater damage types use LIGHT_BLUE{x{x\r\n{c{C *{x {cRadiant damage types use YELLOW{x{x\r\n{c{C *{x {cNecrotic damage types use PURPLE{x{x\r\n{c{C *{x {cPsychic damage types use PINK{x{x\r\n{c{C *{x {cForce damage types use GREY{x{x\r\n{c{C *{x {cThunder damage types use YELLOW{x{x\r\n{c{C *{x {cPoison damage types use LIME{x{x\r\n{c{C *{x {cAcid damage types use OLIVE{x{x\r\n{c{C *{x {cVerbs in combat messages are now colored based on hit type{x{x\r\n{c{C *{x {cFirst person and third person verb forms both use hit type color{x{x\r\n{c{C *{x {cDefaults to WHITE if hit type has no color specified{x{x\r\n{c{C *{x {cCustom hit types created from strings default to WHITE color{x{x\r\n{c{C *{x {cUpdated HitTypesResponse interface to include optional color field{x{x\r\n{c{C *{x {cMap editor service now includes color in hit type data{x{x\r\n{c{C *{x {cEnables future map editor features to display hit type colors{x{x\r\n{c{C *{x {cChanged option backgrounds from var(--base03) to var(--base02) for{x\r\n   {cdarker grey{x{x\r\n{c{C *{x {cChanged option text color to var(--base2) for lighter silvery color{x{x\r\n{c{C *{x {cUpdated hover states to use var(--base01) background with{x\r\n   {cvar(--base3) text{x{x\r\n{c{C *{x {cApplied styling to header controls, layer controls, form groups, hit{x\r\n   {ctype selector, color selector, and room link item dropdowns{x{x\r\n{c{C *{x {cImproved readability of all dropdown menus throughout the map editor{x{x"
    postedAt: '2025-11-25T23:36:21.669Z'
    readBy:
      - 49
      - 51
  - id: 118
    author: SYSTEM
    subject: Version 1.21.0
    content: "{YFeatures:{x\r\n{y{Y *{x {yadded automated package discovery and loading{x{x\r\n{y{Y *{x {yadded busy mode fields to character schema{x{x\r\n{y{Y *{x {yadded busy mode configuration fields{x{x\r\n{y{Y *{x {yadded script to run individual test files{x{x\r\n{y{Y *{x {yadded TypeScript test runner with source maps{x{x\r\n{y{Y *{x {yadded DeepReadonly utility type{x{x\r\n\r\n{GBug Fixes:{x\r\n{g{G *{x {gadded validation for mob when saving character{x{x\r\n{g{G *{x {gvalidate mob exists before saving{x{x\r\n{g{G *{x {gremoved duplicate server listening log message{x{x\r\n{g{G *{x {gregistered dungeons in test suite{x{x\r\n\r\n{CMiscellaneous:{x\r\n{c{C *{x {cCreated package.ts at project root for automatic package loading{x{x\r\n{c{C *{x {cDiscovers all package files in src/package/ directory{x{x\r\n{c{C *{x {cBuilds dependency graph from package dependencies{x{x\r\n{c{C *{x {cLoads packages in topological order using topological sort{x{x\r\n{c{C *{x {cHandles circular dependency detection{x{x\r\n{c{C *{x {cSpecial handling to ensure lockfile loads first if present{x{x\r\n{c{C *{x {cUpdated index.ts to use loadAllPackages instead of manual imports{x{x\r\n{c{C *{x {cFixed path handling for Windows compatibility in loadPackageModule{x{x\r\n{c{C *{x {cAdded busyModeEnabled boolean field to settings{x{x\r\n{c{C *{x {cAdded combatBusyModeEnabled boolean field to settings{x{x\r\n{c{C *{x {cAdded busyForwardedGroups array field with MESSAGE_GROUP enum{x\r\n   {cvalidation{x{x\r\n{c{C *{x {cAdded combatBusyForwardedGroups array field with MESSAGE_GROUP enum{x\r\n   {cvalidation{x{x\r\n{c{C *{x {cSchema now validates busy mode settings that match character.ts{x\r\n   {cimplementation{x{x\r\n{c{C *{x {cCreated scripts/test-individual.js to run each test file{x\r\n   {cindependently{x{x\r\n{c{C *{x {cSupports both JavaScript and TypeScript test files{x{x\r\n{c{C *{x {cAdded --ts flag to run TypeScript files directly using tsx{x{x\r\n{c{C *{x {cAdded npm scripts: test:individual and test:individual:ts{x{x\r\n{c{C *{x {cImproves debugging experience by isolating test failures{x{x\r\n{c{C *{x {cAdded tsx as dev dependency for running TypeScript files directly{x{x\r\n{c{C *{x {cCreated scripts/test-ts.js to run tests with tsx import hook{x{x\r\n{c{C *{x {cAdded sourceMap to tsconfig.json for better error reporting{x{x\r\n{c{C *{x {cAdded test:ts, pretest:ts, start:ts, and rerun:ts npm scripts{x{x\r\n{c{C *{x {cTests can now reference TypeScript source lines instead of compiled{x\r\n   {cJavaScript{x{x\r\n{c{C *{x {cCreated src/utils/types.ts with DeepReadonly type{x{x\r\n{c{C *{x {cRecursively makes all nested object properties readonly{x{x\r\n{c{C *{x {cUsed for creating immutable readonly views of config objects{x{x\r\n{c{C *{x {cAdded check to ensure character.mob exists before serialization{x{x\r\n{c{C *{x {cThrows error if mob is missing to prevent invalid character saves{x{x\r\n{c{C *{x {cPrevents saving characters without in-game entities{x{x\r\n{c{C *{x {cRemoved duplicate log from server.listen callback{x{x\r\n{c{C *{x {cUpdated listening event handler to log with host and port{x{x\r\n{c{C *{x {cAdded missing parameters to listening event handler callback{x{x\r\n{c{C *{x {cAdded registerDungeonInstance calls for dungeons A, B, and C{x{x\r\n{c{C *{x {cFixes test failure where getRoomByRef could not find unregistered{x\r\n   {cdungeons{x{x\r\n{c{C *{x {cAll pathfinding tests now pass{x{x"
    postedAt: '2025-11-26T21:08:22.858Z'
    readBy:
      - 49
  - id: 119
    author: SYSTEM
    subject: Version 1.22.0
    content: "{YFeatures:{x\r\n{y{Y *{x {yenable incremental TypeScript compilation{x{x\r\n{y{Y *{x {yadded ColorName type and COLOR_NAME_TO_COLOR mapping{x{x\r\n{y{Y *{x {yadded version support to serialization system{x{x\r\n{y{Y *{x {yadded version fields to dungeon files{x{x\r\n{y{Y *{x {yintegrated migrations into object deserialization{x{x\r\n{y{Y *{x {yadded parentVersion support to all deserializers{x{x\r\n{y{Y *{x {yadded version support and dungeon migration integration{x{x\r\n{y{Y *{x {yadded version support to room and template creation{x{x\r\n{y{Y *{x {yadded data migration system for dungeons and characters{x{x\r\n{y{Y *{x {yadded migration frameworks for mobs, items, equipment, armor, and{x\r\n   {yweapons{x{x\r\n{y{Y *{x {yadded template migration system for all entity types{x{x\r\n{y{Y *{x {yintegrated migration system into dungeon and character loading{x{x\r\n{y{Y *{x {yadded version field to dungeon and character schemas{x{x\r\n{y{Y *{x {ytrack and display cancelled, skipped, and todo tests{x{x\r\n\r\n{GBug Fixes:{x\r\n{g{G *{x {gimproved clean-orphaned script to handle .cts and .mts file{x\r\n   {gextensions{x{x\r\n{g{G *{x {gimproved TypeScript error formatting in tsc-and-list script{x{x\r\n{g{G *{x {gupdated tests to handle async deserialization functions{x{x\r\n\r\n{CMiscellaneous:{x\r\n{c{C *{x {cAdded incremental compilation to tsconfig.json{x{x\r\n{c{C *{x {cAdded .tsbuildinfo to .gitignore{x{x\r\n{c{C *{x {cCreated clean-orphaned.js script to remove orphaned compiled files{x{x\r\n{c{C *{x {cCreated tsc-and-list.js script to list emitted files from incremental{x\r\n   {cbuilds{x{x\r\n{c{C *{x {cUpdated build scripts to use incremental compilation and orphan{x\r\n   {ccleanup{x{x\r\n{c{C *{x {cAdded ColorName type representing valid color name strings{x{x\r\n{c{C *{x {cCreated COLOR_NAME_TO_COLOR reverse mapping from color names to COLOR{x\r\n   {cenum{x{x\r\n{c{C *{x {cProvides type-safe conversion from color names to enum values{x{x\r\n{c{C *{x {cMapping uses COLOR_NAMES values as keys for consistency{x{x\r\n{c{C *{x {cUpdated Character.serialize to accept optional version parameter{x{x\r\n{c{C *{x {cUpdated Character.serialize to pass version to mob serialization{x{x\r\n{c{C *{x {cUpdated Character.serialize to include version in returned data{x{x\r\n{c{C *{x {cUpdated DungeonObject.serialize to accept optional version parameter{x{x\r\n{c{C *{x {cUpdated DungeonObject.serialize to include version in serialized{x\r\n   {coutput{x{x\r\n{c{C *{x {cUpdated Room.serialize to accept optional version parameter{x{x\r\n{c{C *{x {cUpdated Room.serialize to preserve version through serialization{x\r\n   {cchain{x{x\r\n{c{C *{x {cUpdated Equipment.serialize to accept optional version parameter{x{x\r\n{c{C *{x {cUpdated Equipment.serialize to preserve version through serialization{x\r\n   {cchain{x{x\r\n{c{C *{x {cUpdated Armor.serialize to accept optional version parameter{x{x\r\n{c{C *{x {cUpdated Armor.serialize to preserve version through serialization{x\r\n   {cchain{x{x\r\n{c{C *{x {cUpdated Weapon.serialize to accept optional version parameter{x{x\r\n{c{C *{x {cUpdated Weapon.serialize to preserve version through serialization{x\r\n   {cchain{x{x\r\n{c{C *{x {cUpdated Mob.serialize to accept optional version parameter{x{x\r\n{c{C *{x {cUpdated compressSerializedObject to always preserve version field{x{x\r\n{c{C *{x {cUpdated saveCharacter to pass current version to serialize method{x{x\r\n{c{C *{x {cUpdated saveCharacter to remove manual version wrapping in favor of{x\r\n   {cserialize method{x{x\r\n{c{C *{x {cAdded version 1.21.0 to neo-tokyo.yaml{x{x\r\n{c{C *{x {cAdded version 1.21.0 to tower.yaml{x{x\r\n{c{C *{x {cAdded test Mob template \"cake\" to tower.yaml{x{x\r\n{c{C *{x {cAdded test reset entry for tower-sword template in tower.yaml{x{x\r\n{c{C *{x {cMade all deserialization functions async to support migrations{x{x\r\n{c{C *{x {cAdded optional migrate parameter to all specific deserializers{x\r\n   {c(default: true){x{x\r\n{c{C *{x {cdeserializeDungeonObject now applies migrations generically before{x\r\n   {cdelegating{x{x\r\n{c{C *{x {cIndividual deserializers can be called directly with migrate control{x{x\r\n{c{C *{x {cUpdated character deserialization to be async and await mob{x\r\n   {cdeserialization{x{x\r\n{c{C *{x {cUpdated game.ts to await async character deserialization{x{x\r\n{c{C *{x {cUpdated deserializeDungeonObjectWithMigration to accept and use{x\r\n   {cparentVersion{x{x\r\n{c{C *{x {cUpdated deserializeMob to accept parentVersion parameter{x{x\r\n{c{C *{x {cUpdated deserializeMob to use parentVersion for migration if mob{x\r\n   {cdoesn't have its own version{x{x\r\n{c{C *{x {cUpdated deserializeMob to pass version to nested objects (contents{x\r\n   {cand equipped items){x{x\r\n{c{C *{x {cUpdated deserializeRoom to accept and use parentVersion{x{x\r\n{c{C *{x {cUpdated deserializeMovable to accept and use parentVersion{x{x\r\n{c{C *{x {cUpdated deserializeProp to accept and use parentVersion{x{x\r\n{c{C *{x {cUpdated deserializeItem to accept and use parentVersion{x{x\r\n{c{C *{x {cUpdated deserializeEquipment to accept and use parentVersion{x{x\r\n{c{C *{x {cUpdated deserializeArmor to accept and use parentVersion{x{x\r\n{c{C *{x {cUpdated deserializeWeapon to accept and use parentVersion{x{x\r\n{c{C *{x {cAll deserializers now pass parentVersion down to nested contents for{x\r\n   {ccascading migration{x{x\r\n{c{C *{x {cAdded getVersion method to MapEditorService to read version from{x\r\n   {cpackage.json{x{x\r\n{c{C *{x {cAdded /api/version endpoint to map editor server{x{x\r\n{c{C *{x {cIntegrated dungeon migrations into getDungeon method{x{x\r\n{c{C *{x {cAdded getVersion IPC handler in Electron main process{x{x\r\n{c{C *{x {cAdded getVersion to Electron preload API{x{x\r\n{c{C *{x {cMap editor frontend now fetches and displays project version{x{x\r\n{c{C *{x {cDungeon data is migrated before being sent to frontend{x{x\r\n{c{C *{x {cUpdated updateRoom to include version when updating existing rooms{x{x\r\n{c{C *{x {cUpdated updateRoom to include version when creating new rooms{x{x\r\n{c{C *{x {cUpdated createTemplate to include version in new template data{x{x\r\n{c{C *{x {cUpdated updateTemplate to include version when updating templates{x{x\r\n{c{C *{x {cVersion is only included if projectVersion is set{x{x\r\n{c{C *{x {cCreated generic migration system with registry and runner{x{x\r\n{c{C *{x {cAdded dungeon-specific migration system{x{x\r\n{c{C *{x {cAdded character-specific migration system{x{x\r\n{c{C *{x {cImplemented version comparison utilities{x{x\r\n{c{C *{x {cAdded migration path finding using BFS algorithm{x{x\r\n{c{C *{x {cCreated initial migrations from v1.0.0 to v1.21.0 for both data types{x{x\r\n{c{C *{x {cMigration system automatically sets version field on old files{x{x\r\n{c{C *{x {cCreated migration system directories for each object type{x{x\r\n{c{C *{x {cAdded registry, runner, types, and index files for each migration{x\r\n   {csystem{x{x\r\n{c{C *{x {cCreated initial v1.0.0-to-v1.21.0 migrations for all object types{x{x\r\n{c{C *{x {cUpdated main migrations index.ts to export all new migration systems{x{x\r\n{c{C *{x {cEach migration system follows the same pattern as dungeon and{x\r\n   {ccharacter migrations{x{x\r\n{c{C *{x {cAdded migration support for Armor templates{x{x\r\n{c{C *{x {cAdded migration support for Equipment templates{x{x\r\n{c{C *{x {cAdded migration support for Item templates{x{x\r\n{c{C *{x {cAdded migration support for Weapon templates{x{x\r\n{c{C *{x {cUpdated Mob migration runner to use single-line format{x{x\r\n{c{C *{x {cRemoved dungeon-specific migration file v1.20.0-to-v1.21.0.ts{x{x\r\n{c{C *{x {cAdded migrateTemplateData function to package/dungeon.ts{x{x\r\n{c{C *{x {cUpdated loadDungeon to migrate templates before hydration{x{x\r\n{c{C *{x {cAdded version fallback logic to use dungeon version when template has{x\r\n   {cno version{x{x\r\n{c{C *{x {cAdded type-safe migration routing based on template type{x{x\r\n{c{C *{x {cAdded migration error handling with fallback to original data{x{x\r\n{c{C *{x {cAdded migration calls to loadDungeon in package/dungeon.ts{x{x\r\n{c{C *{x {cAdded migration calls to loadCharacter and checkCharacterPassword in{x\r\n   {cpackage/character.ts{x{x\r\n{c{C *{x {cMigrations run automatically when loading data files{x{x\r\n{c{C *{x {cEnsures all loaded data is at current version before use{x{x\r\n{c{C *{x {cAdded optional version field at root level of dungeon schema{x{x\r\n{c{C *{x {cAdded optional version field at root level of character schema{x{x\r\n{c{C *{x {cVersion field uses semantic versioning pattern (major.minor.patch){x{x\r\n{c{C *{x {cField is optional to support backward compatibility with old files{x{x\r\n{c{C *{x {cAdded parsing for cancelled, skipped, and todo test counts from test{x\r\n   {coutput{x{x\r\n{c{C *{x {cDisplay cancelled, skipped, and todo counts in summary box when{x\r\n   {cnon-zero{x{x\r\n{c{C *{x {cExcluded skipped and todo tests from success rate calculation{x{x\r\n{c{C *{x {cSuccess rate now uses effective total (total - skipped - todo){x\r\n   {cinstead of raw total{x{x\r\n{c{C *{x {cUpdated distToSourcePath to correctly map .d.cjs to .cts source files{x{x\r\n{c{C *{x {cUpdated distToSourcePath to correctly map .d.mjs to .mts source files{x{x\r\n{c{C *{x {cAdded support for .cts and .mts source files in source file scanning{x{x\r\n{c{C *{x {cFixed path handling to strip src/ prefix when checking against source{x\r\n   {cfiles{x{x\r\n{c{C *{x {cUpdated error display to show file/line info in red bold with X{x\r\n   {csymbol{x{x\r\n{c{C *{x {cError messages now appear on next line with indentation{x{x\r\n{c{C *{x {cHandles both error formats (file:line:column and file(line,column)){x{x\r\n{c{C *{x {cPreserves clickable file references in terminal output{x{x\r\n{c{C *{x {cChanged assert.throws to assert.rejects for async error testing{x{x\r\n{c{C *{x {cUpdated all test calls to await async deserialization functions{x{x\r\n{c{C *{x {cTests now properly handle async deserialization with migrations{x{x"
    postedAt: '2025-11-27T09:22:20.906Z'
  - id: 120
    author: SYSTEM
    subject: Version 1.23.0
    content: "{YFeatures:{x\r\n{y{Y *{x {yadded calendar system with time tracking and events{x{x\r\n{y{Y *{x {yadded NPC target switching and aggro behavior when leaving combat{x{x\r\n{y{Y *{x {yprevented self-targeting in combat{x{x\r\n{y{Y *{x {yadded effects command to list active effects{x{x\r\n{y{Y *{x {yintegrate room migration system into deserialization{x{x\r\n{y{Y *{x {ymade diagonal directions independent bit flags{x{x\r\n{y{Y *{x {yupdated default allowed exits to include diagonals{x{x\r\n{y{Y *{x {yadded adaptable effect template for human race{x{x\r\n{y{Y *{x {yadded effect serialization and deserialization{x{x\r\n{y{Y *{x {yadded poison effect template{x{x\r\n{y{Y *{x {yimplemented core effect system{x{x\r\n{y{Y *{x {yimplementing telnet protocols{x{x\r\n{y{Y *{x {ywait for telnet negotiations before emitting client connection{x{x\r\n{y{Y *{x {yadd make 2-way button for room links{x{x\r\n{y{Y *{x {yadded Clear Resets and Clear Exit Overrides buttons to UI{x{x\r\n{y{Y *{x {yreorganized exit buttons layout in room editor modal{x{x\r\n{y{Y *{x {yadd room migration system{x{x\r\n{y{Y *{x {yadd separate dungeonVersion field for dungeon migrations{x{x\r\n{y{Y *{x {yintegrated effect system into Mob class{x{x\r\n{y{Y *{x {yadd comprehensive telnet option definitions and improve negotiation{x{x\r\n{y{Y *{x {yprotocol handlers now use MCCP2 compression when active{x{x\r\n{y{Y *{x {yadded assertion utilities with comparison operators{x{x\r\n{y{Y *{x {yadded exitOverrides to state management for undo/redo support{x{x\r\n{y{Y *{x {yadded Clear Resets and Clear Exit Overrides buttons{x{x\r\n\r\n{GBug Fixes:{x\r\n{g{G *{x {guse getCurrentDungeonVersion for character serialization{x{x\r\n{g{G *{x {gfixed threat and aggro system to properly initiate combat with free{x\r\n   {grounds{x{x\r\n{g{G *{x {gprevent threat expiration for mobs in same room as NPC{x{x\r\n{g{G *{x {gchanged learn command to accept text instead of word{x{x\r\n{g{G *{x {ghandle undefined messages in gocial command{x{x\r\n{g{G *{x {gchanged IO encoding to binary and added debug logging{x{x\r\n{g{G *{x {gchanged combat check from isInCombat to combatTarget{x{x\r\n{g{G *{x {gpreserve oid field during object deserialization{x{x\r\n{g{G *{x {gremoved target from effect message templates{x{x\r\n{g{G *{x {gfix race condition and close client on inactivity timeout{x{x\r\n{g{G *{x {gincreased telnet negotiation timeout to 3 seconds{x{x\r\n{g{G *{x {gonly send GA messages for prompts without linebreaks{x{x\r\n{g{G *{x {gcorrected Mobius perimeter and added exit override features{x{x\r\n{g{G *{x {gcorrected Mobius perimeter edge wrapping and added diagonal exits{x{x\r\n{g{G *{x {gpreserved selection tool when copying{x{x\r\n{g{G *{x {gsave mob template behavior button states{x{x\r\n{g{G *{x {gclear threat tables before clearing combat targets in combat tests{x{x\r\n{g{G *{x {gupdated threat expiration tests to account for same-room prevention{x{x\r\n\r\n{CMiscellaneous:{x\r\n{c{C *{x {cCreated calendar schema file (schemas/calendar.schema.json) for YAML{x\r\n   {cvalidation{x{x\r\n{c{C *{x {cAdded default calendar configuration (data/calendar.yaml) with{x\r\n   {cstandard 7-day week and 12-month year{x{x\r\n{c{C *{x {cImplemented calendar package loader (src/package/calendar.ts) to load{x\r\n   {cand validate calendar YAML{x{x\r\n{c{C *{x {cCreated calendar registry (src/registry/calendar.ts) with time{x\r\n   {ccalculation functions{x{x\r\n{c{C *{x {cAdded helper functions for getting current time components{x\r\n   {c(getCurrentYear, getCurrentMonth, getCurrentDay, getDayOfWeek,{x\r\n   {cgetCurrentHour, getCurrentMinute, getCurrentSecond){x{x\r\n{c{C *{x {cImplemented event emitter for calendar events (minute, hour, day,{x\r\n   {cweek, month, year, morning, night){x{x\r\n{c{C *{x {cAdded setSafeTimeout helper to handle large timeout values exceeding{x\r\n   {c32-bit integer limit{x{x\r\n{c{C *{x {cImplemented proper cleanup of all timeouts and intervals in{x\r\n   {cclearCalendarEvents{x{x\r\n{c{C *{x {cCreated calendar command (src/commands/calendar.ts) to display{x\r\n   {ccurrent date and time{x{x\r\n{c{C *{x {cAdded comprehensive unit tests (src/registry/calendar.spec.ts) for{x\r\n   {ccalendar registry functions{x{x\r\n{c{C *{x {cAdded unit tests for calendar package loader with validation error{x\r\n   {ccases{x{x\r\n{c{C *{x {ccloses #25{x{x\r\n{c{C *{x {cAdded handleNPCLeavingCombat function to process NPC behavior when{x\r\n   {ccombat ends{x{x\r\n{c{C *{x {cNPCs now switch to highest threat target in room when leaving combat{x{x\r\n{c{C *{x {cAggro NPCs now check room for player mobs and attack them when{x\r\n   {cleaving combat{x{x\r\n{c{C *{x {cThreat-based target switching takes priority over aggro behavior{x{x\r\n{c{C *{x {cNew engagements from leaving combat get free rounds as expected{x{x\r\n{c{C *{x {cAdded check in Mob.combatTarget setter to prevent setting self as{x\r\n   {ctarget{x{x\r\n{c{C *{x {cAdded check in initiateCombat to prevent initiating combat with self{x{x\r\n{c{C *{x {cPrevents mobs from targeting themselves in combat{x{x\r\n{c{C *{x {cCreated src/commands/effects.ts command{x{x\r\n{c{C *{x {cDisplays all active effects in a formatted table{x{x\r\n{c{C *{x {cShows effect name, type, time remaining, caster, and details{x{x\r\n{c{C *{x {cDetails include attribute modifiers, resource capacity modifiers, and{x\r\n   {cdynamic multipliers{x{x\r\n{c{C *{x {cFor DoT/HoT effects, shows damage/heal per tick and ticks remaining{x{x\r\n{c{C *{x {cHandles empty state when no effects are active{x{x\r\n{c{C *{x {cUpdated deserializeRoom to use migrateRoomData for room migrations{x{x\r\n{c{C *{x {cAdded room migration support to migrateTemplateData for Room{x\r\n   {ctemplates{x{x\r\n{c{C *{x {cMoved room deserialization logic from core/dungeon.ts to{x\r\n   {cpackage/dungeon.ts{x{x\r\n{c{C *{x {cRooms now migrate automatically when deserialized with migrate flag{x\r\n   {cenabled{x{x\r\n{c{C *{x {cRoom migrations use parentVersion when room doesn't have its own{x\r\n   {cversion field{x{x\r\n{c{C *{x {cChanged NORTHEAST, NORTHWEST, SOUTHEAST, SOUTHWEST from bitwise{x\r\n   {ccombinations to independent flags{x{x\r\n{c{C *{x {cUpdated DIRECTION enum to use bits 4-7 for diagonals instead of{x\r\n   {ccombining NORTH|EAST, etc.{x{x\r\n{c{C *{x {cUpdated all DIRECTION definitions in map editor to use independent{x\r\n   {cflags{x{x\r\n{c{C *{x {cUpdated isNorthward/isSouthward/isEastward/isWestward functions to{x\r\n   {cwork with independent flags{x{x\r\n{c{C *{x {cUpdated getOppositeDirection to handle diagonal opposites correctly{x{x\r\n{c{C *{x {cUpdated formatAllowedExits to display diagonal directions{x{x\r\n{c{C *{x {cUpdated all direction arrays and mappings to include diagonals{x{x\r\n{c{C *{x {cDiagonals can now be enabled independently without requiring cardinal{x\r\n   {cdirections{x{x\r\n{c{C *{x {cChanged default allowedExits from NSEW only to NSEW + diagonals{x{x\r\n{c{C *{x {cUpdated Room constructor default to include all 8 horizontal{x\r\n   {cdirections{x{x\r\n{c{C *{x {cUpdated hydrateSerializedRoomData default exits{x{x\r\n{c{C *{x {cUpdated hydrateRoomTemplateData default exits{x{x\r\n{c{C *{x {cUpdated all DEFAULT_ALLOWED_EXITS in map editor to include diagonals{x{x\r\n{c{C *{x {cUpdated test expectations to match new default{x{x\r\n{c{C *{x {cNew rooms and templates now allow diagonal movement by default{x{x\r\n{c{C *{x {cUP and DOWN still excluded from defaults{x{x\r\n{c{C *{x {cCreated src/effects/adaptable.ts with passive effect template{x{x\r\n{c{C *{x {cProvides +1 to all primary attributes and +1000 max health{x{x\r\n{c{C *{x {cUsed by human race archetype as a racial passive{x{x\r\n{c{C *{x {cAdded SerializedEffect interface to represent serialized effect{x\r\n   {cinstances{x{x\r\n{c{C *{x {cUpdated Mob.serialize() to serialize effects, excluding archetype{x\r\n   {cpassives{x{x\r\n{c{C *{x {cUpdated deserializeMob() to restore effects from serialized data{x{x\r\n{c{C *{x {cAdded getMobByOid helper to resolve caster references during{x\r\n   {cdeserialization{x{x\r\n{c{C *{x {cArchetype passives are re-applied on deserialization instead of being{x\r\n   {cserialized{x{x\r\n{c{C *{x {cEffects maintain their runtime state (nextTickAt, ticksRemaining,{x\r\n   {ctickAmount) across saves{x{x\r\n{c{C *{x {cCreated src/effects/poison.ts with poison DoT effect template{x{x\r\n{c{C *{x {cIncludes onApply act message when poison is applied{x{x\r\n{c{C *{x {cIncludes onTick act message with {damage} placeholder when poison ticks{x{x\r\n{c{C *{x {cDeals 10 damage per tick, 2 second interval, 12 second duration{x{x\r\n{c{C *{x {cStackable and offensive effect{x{x\r\n{c{C *{x {cCreated src/core/effect.ts with effect template and instance{x\r\n   {cinterfaces{x{x\r\n{c{C *{x {cCreated src/effects.ts for periodic effect processing (DoT/HoT ticks){x{x\r\n{c{C *{x {cCreated src/registry/effect.ts for effect template registry{x{x\r\n{c{C *{x {cCreated src/package/effect.ts for loading effect templates from{x\r\n   {csrc/effects/{x{x\r\n{c{C *{x {cAdded effect type guards and utility functions{x{x\r\n{c{C *{x {cIntegrated effect processing into game loop{x{x\r\n{c{C *{x {cAdded negotiation completion tracking to TelnetNegotiationManager{x{x\r\n{c{C *{x {cMudServer now waits for all telnet protocol negotiations to complete{x\r\n   {cbefore emitting connection event{x{x\r\n{c{C *{x {cAdded pendingProtocols set to track which protocols are being{x\r\n   {cnegotiated{x{x\r\n{c{C *{x {cProtocols are marked complete when they reach negotiated, rejected,{x\r\n   {cor disabled state{x{x\r\n{c{C *{x {cAdded onAllNegotiationsComplete callback to notify when all{x\r\n   {cnegotiations finish{x{x\r\n{c{C *{x {cAdded debug logging throughout negotiation and connection emission{x\r\n   {cprocess{x{x\r\n{c{C *{x {cAdded 2-second timeout fallback to prevent hanging if negotiations{x\r\n   {cdon't complete{x{x\r\n{c{C *{x {cEnsures MCCP2 compression is set up (or rejected) before any writes{x\r\n   {coccur{x{x\r\n{c{C *{x {cAdded getOppositeDirection helper function to get opposite directions{x{x\r\n{c{C *{x {cAdded make-2way button (#) to each room link in generateRoomLinkHTML{x{x\r\n{c{C *{x {cImplemented makeExit2WayForOverride to create reciprocal links in{x\r\n   {cexit overrides{x{x\r\n{c{C *{x {cAdded support for cross-dungeon 2-way links by loading, modifying,{x\r\n   {cand saving target dungeon{x{x\r\n{c{C *{x {cMade makeExit2WayForOverride async to handle dungeon loading{x\r\n   {coperations{x{x\r\n{c{C *{x {cImplemented makeExit2WayForTemplate placeholder for template room{x\r\n   {clinks{x{x\r\n{c{C *{x {cAdded event handlers for make-2way button in both template and exit{x\r\n   {coverride modals{x{x\r\n{c{C *{x {cAdded CSS styling for make-2way button in light and dark themes{x{x\r\n{c{C *{x {cReduced direction dropdown width from 90px to 70px to accommodate new{x\r\n   {cbutton{x{x\r\n{c{C *{x {cUpdated delete handlers to re-index make-2way buttons when links are{x\r\n   {cremoved{x{x\r\n{c{C *{x {cAdded Clear Resets button to toolbox bar Actions section{x{x\r\n{c{C *{x {cAdded Clear Exit Overrides button to toolbox bar Actions section{x{x\r\n{c{C *{x {cBoth buttons are disabled by default and enabled when a selection{x\r\n   {cexists{x{x\r\n{c{C *{x {cAdded Mobius Perimeter button to dungeon settings modal{x{x\r\n{c{C *{x {cUpdated help documentation with keyboard shortcuts section{x{x\r\n{c{C *{x {cUpdated help documentation with Copy, Cut & Paste section{x{x\r\n{c{C *{x {cUpdated exit override help to mention row organization and toggle{x\r\n   {cbuttons{x{x\r\n{c{C *{x {cChanged exit buttons from 6-column grid to three-row flex layout{x{x\r\n{c{C *{x {cOrganized buttons by type: cardinals on first row, diagonals on{x\r\n   {csecond row, up/down on third row{x{x\r\n{c{C *{x {cAdded row toggle buttons to enable/disable all buttons in each row at{x\r\n   {conce{x{x\r\n{c{C *{x {cRemoved min-width constraint from exit buttons to allow buttons to{x\r\n   {csize to their content{x{x\r\n{c{C *{x {cAdded white-space: nowrap to prevent text wrapping in exit buttons{x{x\r\n{c{C *{x {cLeft-aligned button rows instead of centering them{x{x\r\n{c{C *{x {cUpdated styles in both dark.css and light.css{x{x\r\n{c{C *{x {cCreated room migration system following same pattern as other entity{x\r\n   {ctypes{x{x\r\n{c{C *{x {cAdded room migration registry, runner, types, and index files{x{x\r\n{c{C *{x {cAdded v1.0.0-to-v1.0.1 migration for rooms{x{x\r\n{c{C *{x {cRoom migrations use SerializedRoom type and generic migration{x\r\n   {cinfrastructure{x{x\r\n{c{C *{x {cAdded dungeonVersion field to package.json separate from main version{x{x\r\n{c{C *{x {cAdded semver and @types/semver as devDependencies{x{x\r\n{c{C *{x {cCreated getCurrentDungeonVersion function to read dungeonVersion from{x\r\n   {cpackage.json{x{x\r\n{c{C *{x {cUpdated compareVersions to use semver library instead of custom{x\r\n   {cimplementation{x{x\r\n{c{C *{x {cUpdated generic migration runner to use getCurrentDungeonVersion for{x\r\n   {cdungeon data types{x{x\r\n{c{C *{x {cUpdated map-editor-service getVersion to return dungeonVersion for{x\r\n   {cdungeons{x{x\r\n{c{C *{x {cCreated increment-dungeon-version.js script to increment{x\r\n   {cdungeonVersion using semver{x{x\r\n{c{C *{x {cAdded update-dungeon-version npm script to run increment script{x{x\r\n{c{C *{x {cExported getCurrentDungeonVersion from migrations index{x{x\r\n{c{C *{x {cAdded _effects Set to store active effect instances{x{x\r\n{c{C *{x {cAdded addEffect, removeEffect, hasEffect, getEffects methods{x{x\r\n{c{C *{x {cAdded getEffectsById and removeEffectsById for effect management{x{x\r\n{c{C *{x {cIntegrated passive effect modifiers into recalculateDerivedAttributes{x{x\r\n{c{C *{x {cAdded applyArchetypePassives to apply race/job passive effects{x{x\r\n{c{C *{x {cEffects now modify primary attributes, secondary attributes, resource{x\r\n   {ccapacities, and dynamic multipliers{x{x\r\n{c{C *{x {cAdded getDynamicModifier helper method for accessing effect{x\r\n   {cmultipliers{x{x\r\n{c{C *{x {cAdded comprehensive TELNET_OPTION enum with all RFC 854 standard{x\r\n   {coptions{x{x\r\n{c{C *{x {cAdded MUD-specific protocol options (MCCP, MSSP, MSP, MXP, GMCP){x{x\r\n{c{C *{x {cCreated TELNET_OPTION_NAMES map and getProtocolName function for{x\r\n   {cdebugging{x{x\r\n{c{C *{x {cAdded extensive debug logging to telnet negotiation processing{x{x\r\n{c{C *{x {cImproved handling of incomplete IAC commands and subnegotiations{x{x\r\n{c{C *{x {cEnhanced error handling and data flow tracking in negotiation manager{x{x\r\n{c{C *{x {cAdded getCompressor() method to TelnetNegotiationManager to get MCCP2{x\r\n   {ccompressor{x{x\r\n{c{C *{x {cAdded write() method to TelnetNegotiationManager that uses compressor{x\r\n   {cif MCCP2 is active{x{x\r\n{c{C *{x {cUpdated SGAHandler to use manager.write() instead of socket.write(){x{x\r\n{c{C *{x {cUpdated TTYPEHandler to use manager.write() for terminal type{x\r\n   {crequests{x{x\r\n{c{C *{x {cUpdated telnet-negotiation.ts to use write() for protocol responses{x{x\r\n{c{C *{x {cInitial negotiation commands (WILL/DO) still write directly to socket{x\r\n   {c(must be uncompressed){x{x\r\n{c{C *{x {cAll telnet negotiation data is now compressed when MCCP2 is active{x{x\r\n{c{C *{x {cCreated greaterThan, greaterThanOrEqual, lessThan, lessThanOrEqual{x\r\n   {cfunctions{x{x\r\n{c{C *{x {cAdded lowerThan and lowerThanOrEqual aliases for consistency{x{x\r\n{c{C *{x {cAll functions provide detailed error messages similar to assert.equal{x{x\r\n{c{C *{x {cError messages show actual and expected values with descriptive text{x{x\r\n{c{C *{x {cIncludes comprehensive test suite with 20 tests covering all{x\r\n   {cfunctions{x{x\r\n{c{C *{x {cUpdated character.ts to import getCurrentDungeonVersion instead of{x\r\n   {cgetCurrentVersion{x{x\r\n{c{C *{x {cUpdated saveCharacter to use getCurrentDungeonVersion for version{x\r\n   {cfield{x{x\r\n{c{C *{x {cEnsures character files use dungeon versioning system{x{x\r\n{c{C *{x {cFixed processThreatSwitching to give free rounds for new engagements{x\r\n   {c(not target switches){x{x\r\n{c{C *{x {cChanged threat-based combat initiation to use reaction: false for new{x\r\n   {cengagements{x{x\r\n{c{C *{x {cReordered onEnter logic to process aggro behavior before threat{x\r\n   {cswitching{x{x\r\n{c{C *{x {cAdded threat table check when aggro mob enters room with player on{x\r\n   {cthreat table{x{x\r\n{c{C *{x {cAdded act() messages for combat initiation and target switching{x{x\r\n{c{C *{x {cNew engagements now properly get free rounds as expected{x{x\r\n{c{C *{x {cTarget switches correctly do not get free rounds{x{x\r\n{c{C *{x {cCombat initiation and target switching now send act() messages to{x\r\n   {cinform players{x{x\r\n{c{C *{x {cCloses #24{x{x\r\n{c{C *{x {cModified _processThreatExpiration to skip mobs in the same room as{x\r\n   {cthe NPC{x{x\r\n{c{C *{x {cThreat on current combat target already didn't expire{x{x\r\n{c{C *{x {cThreat on mobs in the same room now also doesn't expire{x{x\r\n{c{C *{x {cPrevents threat from expiring on nearby potential targets{x{x\r\n{c{C *{x {cChanged abilityId parameter pattern from word to text{x{x\r\n{c{C *{x {cAllows learning abilities with multi-word names{x{x\r\n{c{C *{x {cUpdated message formatting to check for undefined before formatting{x{x\r\n{c{C *{x {cAdded conditional checks to prevent sending undefined messages{x{x\r\n{c{C *{x {cUser message now falls back to room message if user message is{x\r\n   {cundefined{x{x\r\n{c{C *{x {cTarget message now only sent if targetMessage or roomMessage exists{x{x\r\n{c{C *{x {cRoom message now only sent if it exists{x{x\r\n{c{C *{x {cChanged buffer encoding from utf8 to binary for client data{x{x\r\n{c{C *{x {cAdded debug logging for client data with address information{x{x\r\n{c{C *{x {cChanged aggressive mob combat initiation check from isInCombat() to{x\r\n   {ccombatTarget check{x{x\r\n{c{C *{x {cMore direct check that avoids potential issues with combat state{x\r\n   {ctracking{x{x\r\n{c{C *{x {cApplied to both player-entering-room and mob-entering-room scenarios{x{x\r\n{c{C *{x {cAdded oid field to hydrateSerializedDungeonObjectData return value{x{x\r\n{c{C *{x {cObjects now correctly restore their oid values when deserialized{x{x\r\n{c{C *{x {cPrevents objects from defaulting to oid: -1 after deserialization{x{x\r\n{c{C *{x {cCreated EffectMessageTemplates type that excludes target messages{x{x\r\n{c{C *{x {cUpdated onApply and onTick to use EffectMessageTemplates instead of{x\r\n   {cActMessageTemplates{x{x\r\n{c{C *{x {cRemoved target parameter from effect message act() calls{x{x\r\n{c{C *{x {cEffects now only support user and room messages, not target messages{x{x\r\n{c{C *{x {cFixed issue where room messages were not showing to other mobs in the{x\r\n   {croom{x{x\r\n{c{C *{x {cRemove character from activeCharacters before destroying mob to{x\r\n   {cprevent saveAllCharacters race condition{x{x\r\n{c{C *{x {cClose client connection when inactivity timeout occurs{x{x\r\n{c{C *{x {cRemove session from loginSessions before closing client to prevent{x\r\n   {cdouble cleanup{x{x\r\n{c{C *{x {cAdd error handling in saveAllCharacters to prevent one failure from{x\r\n   {cbreaking all saves{x{x\r\n{c{C *{x {cFilter out characters without mobs in saveAllCharacters to prevent{x\r\n   {cserialization errors{x{x\r\n{c{C *{x {cChanged timeout from 2000ms to 3000ms in MudServer connection handler{x{x\r\n{c{C *{x {cUpdated comment to reflect 3 second timeout{x{x\r\n{c{C *{x {cGives more time for telnet protocol negotiations to complete before{x\r\n   {cemitting connection event{x{x\r\n{c{C *{x {cSplit text by linebreaks and send complete lines without GA{x{x\r\n{c{C *{x {cOnly send GA (Go Ahead) for remaining text that doesn't end with{x\r\n   {clinebreak{x{x\r\n{c{C *{x {cThis ensures GA is only sent for prompts, not regular line output{x{x\r\n{c{C *{x {cPrevents unnecessary GA signals for complete lines{x{x\r\n{c{C *{x {cFixed north edge (y=0) to wrap NORTH to south edge (y=height-1) at{x\r\n   {csame X coordinate{x{x\r\n{c{C *{x {cFixed south edge (y=height-1) to wrap SOUTH to north edge (y=0) at{x\r\n   {csame X coordinate{x{x\r\n{c{C *{x {cFixed west edge (x=0) to wrap WEST to east edge (x=width-1) at same Y{x\r\n   {ccoordinate{x{x\r\n{c{C *{x {cFixed east edge (x=width-1) to wrap EAST to west edge (x=0) at same Y{x\r\n   {ccoordinate{x{x\r\n{c{C *{x {cAdded diagonal exit wrapping for all corner rooms{x{x\r\n{c{C *{x {cAdded diagonal exit wrapping for edge rooms (non-corners){x{x\r\n{c{C *{x {cEnabled diagonal exits in allowedExits bitmask when creating{x\r\n   {cperimeter links{x{x\r\n{c{C *{x {cAdded DIRECTION constants for diagonal directions (NORTHEAST,{x\r\n   {cNORTHWEST, SOUTHEAST, SOUTHWEST){x{x\r\n{c{C *{x {cNorthwest corner (0,0) now has northwest exit linking to southeast{x\r\n   {ccorner (width-1, height-1){x{x\r\n{c{C *{x {cNortheast corner (width-1,0) now has northeast exit linking to{x\r\n   {csouthwest corner (0, height-1){x{x\r\n{c{C *{x {cSouthwest corner (0,height-1) now has southwest exit linking to{x\r\n   {cnortheast corner (width-1, 0){x{x\r\n{c{C *{x {cSoutheast corner (width-1,height-1) now has southeast exit linking to{x\r\n   {cnorthwest corner (0, 0){x{x\r\n{c{C *{x {cEdge rooms now have diagonal exits that wrap to opposite{x\r\n   {cedges/corners{x{x\r\n{c{C *{x {cAdded explicit previousState capture for Mobius perimeter history{x\r\n   {centry{x{x\r\n{c{C *{x {cAdded exitOverrides to cloneDungeonState function to include in{x\r\n   {chistory snapshots{x{x\r\n{c{C *{x {cAdded exitOverrides restoration to restoreStateFromHistory function{x{x\r\n{c{C *{x {cHandled undefined exitOverrides for old history entries (delete{x\r\n   {cproperty to match old state){x{x\r\n{c{C *{x {cClean up empty exitOverrides arrays when restoring state{x{x\r\n{c{C *{x {cAdded clearResetsInSelection function to remove resets from selected{x\r\n   {ccells{x{x\r\n{c{C *{x {cAdded clearExitOverridesInSelection function to remove exit overrides{x\r\n   {cfrom selected cells{x{x\r\n{c{C *{x {cAdded updateActionButtonStates function to enable/disable buttons{x\r\n   {cbased on selection{x{x\r\n{c{C *{x {cButtons are only enabled when a selection exists (selectedCells or{x\r\n   {cselectedCell){x{x\r\n{c{C *{x {cIntegrated button state updates into updateSelectionVisuals function{x{x\r\n{c{C *{x {cAdded event listeners for clear buttons in setupEventListeners{x{x\r\n{c{C *{x {cRemoved clearSelectionTool call from copySelection function{x{x\r\n{c{C *{x {cSelection tool now remains active after copying, allowing continued{x\r\n   {cuse or pasting{x{x\r\n{c{C *{x {cAlways set behaviors object for Mob templates, even if empty{x{x\r\n{c{C *{x {cThis ensures disabled behaviors are properly cleared when updating{x\r\n   {cexisting templates{x{x\r\n{c{C *{x {cRemove empty behaviors object for new templates to avoid including{x\r\n   {cempty object in YAML{x{x\r\n{c{C *{x {cFixed issue where disabling aggressive button would not persist after{x\r\n   {csave/reopen{x{x\r\n{c{C *{x {cReordered afterEach cleanup to clear threat tables before clearing{x\r\n   {ccombat targets{x{x\r\n{c{C *{x {cPrevents handleNPCLeavingCombat from re-engaging combat when clearing{x\r\n   {ctargets{x{x\r\n{c{C *{x {cFixes hanging issue in combat tests caused by threat-based{x\r\n   {cre-engagement{x{x\r\n{c{C *{x {cMoved players to different rooms in expiration tests so threat can{x\r\n   {cexpire{x{x\r\n{c{C *{x {cUpdated tests that expected threat to expire for mobs in same room{x{x\r\n{c{C *{x {cAll tests now correctly account for same-room threat expiration{x\r\n   {cprevention{x{x\r\n{c{C *{x {cFixed 6 failing tests by ensuring players are in different rooms when{x\r\n   {ctesting expiration{x{x"
    postedAt: '2025-12-02T06:13:52.881Z'
  - id: 121
    author: SYSTEM
    subject: Version 1.24.0
    content: "{YFeatures:{x\r\n{y{Y *{x {yadded lifesteal to bloodbound lunge{x{x\r\n{y{Y *{x {yadded debug messages for combat events{x{x\r\n{y{Y *{x {ymobs now drop corpses containing inventory and equipment on death{x{x\r\n{y{Y *{x {yadded quoted string literal support in patterns{x{x\r\n{y{Y *{x {yadd container validation to get and put commands{x{x\r\n{y{Y *{x {yadd sacrifice command to destroy items for gold{x{x\r\n{y{Y *{x {yadded \"look in <container>\" pattern to examine container contents{x{x\r\n{y{Y *{x {yadded drop all command and refactored drop logic{x{x\r\n{y{Y *{x {yadded scan command using minimap visibility system{x{x\r\n{y{Y *{x {yadded value (gold) display to score command{x{x\r\n{y{Y *{x {ycreated give command for giving items and gold to mobs{x{x\r\n{y{Y *{x {ycreated put command for placing items and gold in containers{x{x\r\n{y{Y *{x {yfilter equipped items from @inventory source{x{x\r\n{y{Y *{x {yfixed drop gold pattern{x{x\r\n{y{Y *{x {yimplemented currency pickup and drop functionality{x{x\r\n{y{Y *{x {yimprove effects command display and sorting{x{x\r\n{y{Y *{x {yimprove inventory and worth command display{x{x\r\n{y{Y *{x {yimprove look in container command validation{x{x\r\n{y{Y *{x {yadded autoloot and autosacrifice configuration options{x{x\r\n{y{Y *{x {yadded calculateTotalBaseExperience method to Mob{x{x\r\n{y{Y *{x {yadded value property to DungeonObject and created Currency class{x{x\r\n{y{Y *{x {yadd shield effect enhancements{x{x\r\n{y{Y *{x {yadded all archetype core effects{x{x\r\n{y{Y *{x {yadded two-part inactivity timer with warning{x{x\r\n{y{Y *{x {yadd auto-scroll when dragging near grid edges{x{x\r\n{y{Y *{x {yadd container toggle and value fields to template editor{x{x\r\n{y{Y *{x {yadd number formatting utility{x{x\r\n{y{Y *{x {yadded capitalizeFirst utility function and unit tests{x{x\r\n{y{Y *{x {yadded second-attack and third-attack abilities{x{x\r\n{y{Y *{x {yimproved error handling for target parsing{x{x\r\n\r\n{GBug Fixes:{x\r\n{g{G *{x {gadded damage variation to oneMagicHit function{x{x\r\n{g{G *{x {gapply value field from templates to objects{x{x\r\n{g{G *{x {gremoved duplicate script hook calls in move method{x{x\r\n{g{G *{x {gdisable spellcheck to suppress NSSpellServer warnings{x{x\r\n{g{G *{x {gupdated mapColor saving to follow serialization rules{x{x\r\n{g{G *{x {gimproved mapColor handling and display priority{x{x\r\n{g{G *{x {ghandle integer mapColor in template hydration{x{x\r\n{g{G *{x {ghydrate isContainer field when deserializing items{x{x\r\n{g{G *{x {ginclude isContainer and value in item template hydration{x{x\r\n\r\n{CMiscellaneous:{x\r\n{c{C *{x {cBloodbound lunge now heals the caster for damage dealt{x{x\r\n{c{C *{x {cHealing is clamped to maxHealth{x{x\r\n{c{C *{x {cAdded combat message showing health recovered from blood-bound strike{x{x\r\n{c{C *{x {cHealing only occurs if damage was actually dealt{x{x\r\n{c{C *{x {cAdded debug logging when combat is initiated{x{x\r\n{c{C *{x {cAdded debug logging when mobs hit each other (physical and magical){x{x\r\n{c{C *{x {cAdded debug logging when mobs die{x{x\r\n{c{C *{x {cAdded debug logging when mobs are removed from combat queue{x{x\r\n{c{C *{x {cAdded debug logging when mobs are destroyed{x{x\r\n{c{C *{x {cAll debug messages include relevant context (mob names, IDs, damage,{x\r\n   {chealth, etc.){x{x\r\n{c{C *{x {cCreated corpse item when mob dies containing all inventory and{x\r\n   {cequipped items{x{x\r\n{c{C *{x {cCorpse is created with descriptive keywords, display, description,{x\r\n   {cand roomDescription{x{x\r\n{c{C *{x {cAll equipped items are unequipped before being moved to corpse{x{x\r\n{c{C *{x {cCorpse is always dropped in room, even if empty{x{x\r\n{c{C *{x {cRemoved TODO comment for loot handling{x{x\r\n{c{C *{x {cAdded support for quoted string literals with autocomplete in command{x\r\n   {cpatterns{x{x\r\n{c{C *{x {cPatterns like 'radiant burst'~ or \"dial surge\"~ now match partial{x\r\n   {cinput progressively{x{x\r\n{c{C *{x {cUsers can type quoted or unquoted input (e.g., \"r\", \"rad\", \"radiant{x\r\n   {cburst\", or 'radiant burst'){x{x\r\n{c{C *{x {cExact match quoted strings (without ~) match literal text with{x\r\n   {coptional quotes{x{x\r\n{c{C *{x {cQuoted strings are processed before regex escaping to preserve{x\r\n   {cspecial characters{x{x\r\n{c{C *{x {cimproved error handling for commands without handlers{x{x\r\n{c{C *{x {cCommands without error handlers no longer log errors to console{x{x\r\n{c{C *{x {cRegistry now checks if command has meaningful error handler before{x\r\n   {ccalling onError{x{x\r\n{c{C *{x {cCommands without error handlers are treated as unmatched and search{x\r\n   {ccontinues{x{x\r\n{c{C *{x {cAdded hasErrorHandler method to check adapter commands for actual{x\r\n   {cerror functions{x{x\r\n{c{C *{x {cPrevents error spam when commands fail to match but have no custom{x\r\n   {cerror handling{x{x\r\n{c{C *{x {cAdd isContainer check to getItemFromContainer function{x{x\r\n{c{C *{x {cAdd isContainer check to put command{x{x\r\n{c{C *{x {cAdd gold gain message to getItemFromContainer for currency items{x{x\r\n{c{C *{x {cUse formatNumber for gold display in get command{x{x\r\n{c{C *{x {cAdd sacrifice command that targets items on the ground{x{x\r\n{c{C *{x {cDestroys the item and gives player 25% of its value as gold{x{x\r\n{c{C *{x {cPrevents sacrificing currency items{x{x\r\n{c{C *{x {cIncludes proper error handling and room messages{x{x\r\n{c{C *{x {cAdded new alias pattern \"look~ in <container:object@all>\" to look{x\r\n   {ccommand{x{x\r\n{c{C *{x {cCreated showContainerContents() function to display container{x\r\n   {cdescription and contents{x{x\r\n{c{C *{x {cChecks that container is accessible (in room or actor's inventory){x\r\n   {cbefore showing contents{x{x\r\n{c{C *{x {cDisplays container description and lists all items inside, or \"It is{x\r\n   {cempty.\" if no contents{x{x\r\n{c{C *{x {cContainer check has priority over target check to ensure correct{x\r\n   {cpattern matching{x{x\r\n{c{C *{x {cAdded \"drop all\" command to drop all non-equipped items from{x\r\n   {cinventory{x{x\r\n{c{C *{x {cCreated dropItem helper function to centralize item dropping logic{x{x\r\n{c{C *{x {cEach item displays individual act() message when dropping all items{x{x\r\n{c{C *{x {cRefactored single item drop to use dropItem helper function{x{x\r\n{c{C *{x {cEliminated code duplication between single drop and drop all{x\r\n   {cfunctionality{x{x\r\n{c{C *{x {cCreated scan command that displays visible mobs and objects in nearby{x\r\n   {crooms{x{x\r\n{c{C *{x {cUses same hasLineOfSight visibility system as minimap{x{x\r\n{c{C *{x {cShows rooms by direction and distance (e.g., \"East (1 room away)\"){x{x\r\n{c{C *{x {cDisplays mobs, items, and props found in visible rooms{x{x\r\n{c{C *{x {cSorts results by distance with closest rooms first{x{x\r\n{c{C *{x {cOnly shows rooms with visible contents, excluding current room{x{x\r\n{c{C *{x {cAdded gold value to Info section of score command{x{x\r\n{c{C *{x {cDisplays mob's value property with yellow color{x{x\r\n{c{C *{x {cFormatted consistently with other info fields{x{x\r\n{c{C *{x {cCreated give command with patterns for giving items and gold to mobs{x\r\n   {cin room{x{x\r\n{c{C *{x {cSupports \"give item to target\" and \"give item target\" patterns{x{x\r\n{c{C *{x {cSupports \"give amount gold to target\" and \"give amount gold target\"{x\r\n   {cpatterns{x{x\r\n{c{C *{x {cValidates item is in inventory and not equipped{x{x\r\n{c{C *{x {cValidates target is in same room{x{x\r\n{c{C *{x {cFor gold: creates Currency item, transfers value to target, removes{x\r\n   {ccurrency item{x{x\r\n{c{C *{x {cFor items: moves item to target's inventory{x{x\r\n{c{C *{x {cUses act() for messages with user, target, and room perspectives{x{x\r\n{c{C *{x {cCreated put command with pattern for putting items from inventory{x\r\n   {cinto containers{x{x\r\n{c{C *{x {cAdded pattern for putting gold into containers: \"put amount gold in{x\r\n   {ccontainer\"{x{x\r\n{c{C *{x {cContainer can be in actor's inventory or in the room{x{x\r\n{c{C *{x {cValidates item is in inventory and not equipped{x{x\r\n{c{C *{x {cValidates container is accessible{x{x\r\n{c{C *{x {cPrevents putting container into itself or creating circular{x\r\n   {creferences{x{x\r\n{c{C *{x {cFor gold: creates Currency item and places it in container{x{x\r\n{c{C *{x {cUses act() for messages with user and room perspectives{x{x\r\n{c{C *{x {cFilter out equipped items when searching with @inventory or @all{x\r\n   {csource{x{x\r\n{c{C *{x {cPrevents commands like drop from matching equipped items{x{x\r\n{c{C *{x {cUses getAllEquipped() to identify equipped items and exclude them{x\r\n   {cfrom inventory search{x{x\r\n{c{C *{x {cModified get command to detect Currency items on pickup{x{x\r\n{c{C *{x {cCurrency pickup adds value to mob's value property and removes item{x{x\r\n{c{C *{x {cAdded drop command pattern \"drop X gold\" to create Currency items{x{x\r\n{c{C *{x {cCurrency display strings based on amount:{x{x\r\n{c{C *{x {c1 coin: \"a single gold coin.\"{x{x\r\n{c{C *{x {c2-9 coins: \"a few gold coins.\"{x{x\r\n{c{C *{x {c10-100 coins: \"a pile of gold coins.\"{x{x\r\n{c{C *{x {c>100 coins: \"a huge pile of gold coins.\"{x{x\r\n{c{C *{x {cAdded keywords and roomDescription for currency items{x{x\r\n{c{C *{x {cConverted all pickup and drop messages to use act() system{x{x\r\n{c{C *{x {cRoom observers now see pickup and drop actions{x{x\r\n{c{C *{x {cSort effects by appliedAt timestamp (oldest first){x{x\r\n{c{C *{x {cAlways show ancestry and discipline effects at the top{x{x\r\n{c{C *{x {cRefactor shield effect display to use modifiers array{x{x\r\n{c{C *{x {cDisplay maxAbsorptionPerHit and absorptionRate for shields{x{x\r\n{c{C *{x {cUse 2-column layout for shield modifiers with pipe separator{x{x\r\n{c{C *{x {cAdd PRIORITY.HIGH to inventory command{x{x\r\n{c{C *{x {cUse formatNumber for gold display in inventory and worth commands{x{x\r\n{c{C *{x {cFix inventory empty check to include gold value{x{x\r\n{c{C *{x {cChange container argument type from object@all to item@all{x{x\r\n{c{C *{x {cAdd validation to ensure target is actually a container (Item with{x\r\n   {cisContainer flag){x{x\r\n{c{C *{x {cAdd onError handler to provide proper error messages when container{x\r\n   {cnot found{x{x\r\n{c{C *{x {cShow specific error message when target is not a container{x{x\r\n{c{C *{x {cAdded autoloot and autosacrifice boolean settings to PlayerSettings{x\r\n   {cinterface{x{x\r\n{c{C *{x {cAdded defaults (both false) to DEFAULT_PLAYER_SETTINGS{x{x\r\n{c{C *{x {cUpdated character schema to include new settings{x{x\r\n{c{C *{x {cUpdated config command to allow enabling/disabling autoloot and{x\r\n   {cautosacrifice{x{x\r\n{c{C *{x {cAdded settings to config command overview display{x{x\r\n{c{C *{x {cImplemented autoloot in handleDeath to automatically loot all items{x\r\n   {cfrom mob corpses{x{x\r\n{c{C *{x {cImplemented autosacrifice in handleDeath to automatically sacrifice{x\r\n   {cmob corpses after looting{x{x\r\n{c{C *{x {cAutosacrifice calculates total value of all items in corpse{x\r\n   {c(including currency) and gives 25% as gold{x{x\r\n{c{C *{x {cAdded calculateTotalBaseExperience() method to calculate total base{x\r\n   {cexperience required to reach current level{x{x\r\n{c{C *{x {cMethod iterates through each level from 1 to current-1{x{x\r\n{c{C *{x {cFor each level, calculates growth modifier (race * job) and{x\r\n   {cmultiplies by EXPERIENCE_THRESHOLD{x{x\r\n{c{C *{x {cAccounts for growth modifiers that reduce effective experience gained{x{x\r\n{c{C *{x {cAdded value property support to dungeon object deserialization{x{x\r\n{c{C *{x {cAdded value property to DungeonObjectOptions interface{x{x\r\n{c{C *{x {cAdded value property to SerializedDungeonObject interface{x{x\r\n{c{C *{x {cAdded value property to DungeonObject class (defaults to 0){x{x\r\n{c{C *{x {cInitialized value in DungeonObject constructor{x{x\r\n{c{C *{x {cIncluded value in serialize() method{x{x\r\n{c{C *{x {cCreated Currency class extending Item{x{x\r\n{c{C *{x {cCurrency items use inherited value property from DungeonObject{x{x\r\n{c{C *{x {cCurrency items cannot be serialized (runtime-only){x{x\r\n{c{C *{x {cAdd maxAbsorptionPerHit field to ShieldEffectTemplate{x{x\r\n{c{C *{x {cAdd absorptionRate field to ShieldEffectTemplate (defaults to 1.0){x{x\r\n{c{C *{x {cAdd onExpire messages to earthen-ward and integrated-armor effects{x{x\r\n{c{C *{x {cAdded inactivityWarningTimer field to LoginSession interface{x{x\r\n{c{C *{x {cWarning message is sent at half the inactivity timeout duration{x{x\r\n{c{C *{x {cWarning shows remaining time until disconnect in minutes{x{x\r\n{c{C *{x {cBoth warning and disconnect timers are cleared when activity is{x\r\n   {cupdated{x{x\r\n{c{C *{x {cBoth timers are properly cleaned up on session end or disconnection{x{x\r\n{c{C *{x {cAdd Item type option to template type selector{x{x\r\n{c{C *{x {cAdd Container toggle button for items{x{x\r\n{c{C *{x {cAdd Value field for objects (Item, Equipment, Weapon, Armor, Prop){x{x\r\n{c{C *{x {cAdd Gold field for Mobs (maps to value field){x{x\r\n{c{C *{x {cUpdate type selector handler to show/hide new fields{x{x\r\n{c{C *{x {cAdd formatNumber function to add comma separators to large numbers{x{x\r\n{c{C *{x {cUses toLocaleString for proper number formatting{x{x\r\n{c{C *{x {cAdded capitalizeFirst function to utils/string.ts to capitalize first{x\r\n   {cletter while preserving color codes{x{x\r\n{c{C *{x {cFunction handles color escape sequences, escaped braces, and empty{x\r\n   {cstrings{x{x\r\n{c{C *{x {cCreated comprehensive unit test suite in utils/string.spec.ts with 16{x\r\n   {ctest cases{x{x\r\n{c{C *{x {cUpdated error messages in attack, _social, sacrifice, and look{x\r\n   {ccommands to use capitalizeFirst{x{x\r\n{c{C *{x {cUpdated get, put, and give commands to use capitalizeFirst for better{x\r\n   {csentence capitalization{x{x\r\n{c{C *{x {cAdded second-attack ability at level 3{x{x\r\n{c{C *{x {cAdded third-attack ability at level 5{x{x\r\n{c{C *{x {cExpands warrior combat options with multi-attack abilities{x{x\r\n{c{C *{x {cremoved general.messages.yaml board file{x{x\r\n{c{C *{x {cDeleted general.messages.yaml board messages file{x{x\r\n{c{C *{x {cBoard configuration cleanup{x{x\r\n{c{C *{x {cAdded error message for when target player is not online{x{x\r\n{c{C *{x {cImproved user feedback when whisper command fails to parse target{x{x\r\n{c{C *{x {cHandles \"Could not parse argument: target\" error case{x{x\r\n{c{C *{x {cAdded damageVariation parameter extraction in oneMagicHit options{x\r\n   {cdestructuring{x{x\r\n{c{C *{x {cAdded applyDamageVariation call after spell power calculation in{x\r\n   {coneMagicHit{x{x\r\n{c{C *{x {cMagical attacks now apply damage variation consistently with physical{x\r\n   {cattacks{x{x\r\n{c{C *{x {cFixes inconsistent behavior where magical attacks dealt exact damage{x\r\n   {cwhile physical attacks had variation{x{x\r\n{c{C *{x {cAdd value field to DungeonObjectTemplate interface{x{x\r\n{c{C *{x {cUpdate applyTemplate to apply value from template{x{x\r\n{c{C *{x {cFixes issue where mobs with value in template weren't dropping gold{x\r\n   {con death{x{x\r\n{c{C *{x {cRemoved duplicate beforeOnEnter call that was executing twice{x{x\r\n{c{C *{x {cRemoved duplicate afterOnExit call that was executing twice{x{x\r\n{c{C *{x {cEach script hook now executes once at the appropriate time during{x\r\n   {cmovement{x{x\r\n{c{C *{x {cAdd spellcheck: false to BrowserWindow webPreferences{x{x\r\n{c{C *{x {cSuppresses harmless macOS spell checker timeout warnings in console{x{x\r\n{c{C *{x {cAdded helper functions to convert between color integer and string{x\r\n   {crepresentations{x{x\r\n{c{C *{x {cmapColorToInteger converts from YAML (string or integer) to integer{x\r\n   {cfor UI display{x{x\r\n{c{C *{x {cmapColorToString converts from UI (integer) to string for YAML saving{x{x\r\n{c{C *{x {cUpdated loading to convert mapColor strings to integers for display{x\r\n   {cin color selectors{x{x\r\n{c{C *{x {cUpdated saving to convert mapColor integers to strings for YAML{x\r\n   {cstorage{x{x\r\n{c{C *{x {cMap editor now follows same rules as game code: integer at runtime,{x\r\n   {cstring in YAML{x{x\r\n{c{C *{x {cFixed mapColor to use room's mapColor as base before applying{x\r\n   {cpriority{x{x\r\n{c{C *{x {cRemoved object priority from minimap display (only mob priority{x\r\n   {cremains){x{x\r\n{c{C *{x {cRemoved alternating color/char system for rooms without explicit{x\r\n   {cmapColor{x{x\r\n{c{C *{x {cFixed up/down exit indicators to use white color{x{x\r\n{c{C *{x {cSimplified minimap generation logic by removing unnecessary object{x\r\n   {cchecks{x{x\r\n{c{C *{x {cUpdated hydrateTemplateData to convert integer mapColor from YAML to{x\r\n   {cstring{x{x\r\n{c{C *{x {cAdded COLOR_NAMES import for integer to string conversion{x{x\r\n{c{C *{x {cTemplates now correctly store mapColor as string even when loaded{x\r\n   {cfrom integer format{x{x\r\n{c{C *{x {cUpdate hydrateSerializedItemData to include isContainer field{x{x\r\n{c{C *{x {cEnsures isContainer flag is preserved when loading saved items{x{x\r\n{c{C *{x {cAdd value field to hydrateTemplateData for all templates{x{x\r\n{c{C *{x {cUpdate hydrateItemTemplateData to include isContainer and value{x\r\n   {cfields{x{x\r\n{c{C *{x {cFixes issue where items with isContainer flag in templates weren't{x\r\n   {cbeing recognized as containers{x{x"
    postedAt: '2025-12-04T04:45:27.119Z'
