<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Command | mud3</title><meta name="description" content="Documentation for mud3"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">mud3</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="../modules/command.html">command</a></li><li><a href="" aria-current="page">Command</a></li></ul><h1>Class Command<code class="tsd-tag">Abstract</code></h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>Base class for all commands in the MUD command system.</p>
<p>This abstract class provides a powerful pattern-based command parsing system
that handles argument extraction, type conversion, and validation. Subclass
this to create custom commands with minimal boilerplate.</p>
<h2 id="pattern-syntax" class="tsd-anchor-link">Pattern Syntax<a href="#pattern-syntax" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Command patterns use a special placeholder syntax to define arguments:</p>
<ul>
<li><code>&lt;name:type&gt;</code> - Required argument</li>
<li><code>&lt;name:type?&gt;</code> - Optional argument (with ? suffix)</li>
<li><code>&lt;name:type@source&gt;</code> - Object/Item argument with search source modifier</li>
</ul>
<h3 id="available-argument-types" class="tsd-anchor-link">Available Argument Types<a href="#available-argument-types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>text</code> - Captures all remaining input text (greedy match, should be last argument)</li>
<li><code>word</code> - Captures a single word (stops at first whitespace)</li>
<li><code>number</code> - Parses and validates as an integer</li>
<li><code>object</code> - Finds a DungeonObject by keyword matching</li>
<li><code>mob</code> - Finds a Mob entity by keyword matching in current room</li>
<li><code>item</code> - Finds an Item entity by keyword matching</li>
<li><code>direction</code> - Parses direction names/abbreviations into DIRECTION enum values</li>
</ul>
<h3 id="source-modifiers-for-object-and-item-types" class="tsd-anchor-link">Source Modifiers (for object and item types)<a href="#source-modifiers-for-object-and-item-types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>@room</code> - Search only in the current room's contents</li>
<li><code>@inventory</code> - Search only in the actor's inventory</li>
<li><code>@all</code> - Search both room and inventory (default if not specified)</li>
</ul>
<h2 id="examples" class="tsd-anchor-link">Examples<a href="#examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="simple-text-command" class="tsd-anchor-link">Simple text command<a href="#simple-text-command" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-1">class</span><span class="hl-2"> </span><span class="hl-10">OocCommand</span><span class="hl-2"> </span><span class="hl-1">extends</span><span class="hl-2"> </span><span class="hl-10">Command</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-5">pattern</span><span class="hl-2"> = </span><span class="hl-6">&quot;ooc &lt;message:text&gt;&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">  </span><span class="hl-4">execute</span><span class="hl-2">(</span><span class="hl-5">context</span><span class="hl-2">: </span><span class="hl-10">CommandContext</span><span class="hl-2">, </span><span class="hl-5">args</span><span class="hl-2">: </span><span class="hl-10">Map</span><span class="hl-2">&lt;</span><span class="hl-10">string</span><span class="hl-2">, </span><span class="hl-10">any</span><span class="hl-2">&gt;) {</span><br/><span class="hl-2">    </span><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">message</span><span class="hl-2"> = </span><span class="hl-5">args</span><span class="hl-2">.</span><span class="hl-4">get</span><span class="hl-2">(</span><span class="hl-6">&quot;message&quot;</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-4">log</span><span class="hl-2">(</span><span class="hl-6">`</span><span class="hl-1">${</span><span class="hl-5">context</span><span class="hl-8">.</span><span class="hl-5">actor</span><span class="hl-8">.</span><span class="hl-5">display</span><span class="hl-1">}</span><span class="hl-6"> says: </span><span class="hl-1">${</span><span class="hl-5">message</span><span class="hl-1">}</span><span class="hl-6">`</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-0">// Matches: &quot;say Hello, world!&quot;</span><br/><span class="hl-0">// Args: { message: &quot;Hello, world!&quot; }</span>
</code><button type="button">Copy</button></pre>

<h3 id="command-with-optional-argument" class="tsd-anchor-link">Command with optional argument<a href="#command-with-optional-argument" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-1">class</span><span class="hl-2"> </span><span class="hl-10">LookCommand</span><span class="hl-2"> </span><span class="hl-1">extends</span><span class="hl-2"> </span><span class="hl-10">Command</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-5">pattern</span><span class="hl-2"> = </span><span class="hl-6">&quot;look &lt;direction:direction?&gt;&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">  </span><span class="hl-4">execute</span><span class="hl-2">(</span><span class="hl-5">context</span><span class="hl-2">: </span><span class="hl-10">CommandContext</span><span class="hl-2">, </span><span class="hl-5">args</span><span class="hl-2">: </span><span class="hl-10">Map</span><span class="hl-2">&lt;</span><span class="hl-10">string</span><span class="hl-2">, </span><span class="hl-10">any</span><span class="hl-2">&gt;) {</span><br/><span class="hl-2">    </span><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">direction</span><span class="hl-2"> = </span><span class="hl-5">args</span><span class="hl-2">.</span><span class="hl-4">get</span><span class="hl-2">(</span><span class="hl-6">&quot;direction&quot;</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-7">if</span><span class="hl-2"> (</span><span class="hl-5">direction</span><span class="hl-2"> !== </span><span class="hl-1">undefined</span><span class="hl-2">) {</span><br/><span class="hl-2">      </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-4">log</span><span class="hl-2">(</span><span class="hl-6">`You look </span><span class="hl-1">${</span><span class="hl-5">direction</span><span class="hl-1">}</span><span class="hl-6">...`</span><span class="hl-2">);</span><br/><span class="hl-2">    } </span><span class="hl-7">else</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-4">log</span><span class="hl-2">(</span><span class="hl-6">&quot;You look around the room...&quot;</span><span class="hl-2">);</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-0">// Matches: &quot;look&quot; or &quot;look north&quot;</span><br/><span class="hl-0">// Args: {} or { direction: DIRECTION.NORTH }</span>
</code><button type="button">Copy</button></pre>

<h3 id="object-manipulation-with-source-modifiers" class="tsd-anchor-link">Object manipulation with source modifiers<a href="#object-manipulation-with-source-modifiers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-1">class</span><span class="hl-2"> </span><span class="hl-10">GetCommand</span><span class="hl-2"> </span><span class="hl-1">extends</span><span class="hl-2"> </span><span class="hl-10">Command</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-5">pattern</span><span class="hl-2"> = </span><span class="hl-6">&quot;get &lt;item:object@room&gt;&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">  </span><span class="hl-4">execute</span><span class="hl-2">(</span><span class="hl-5">context</span><span class="hl-2">: </span><span class="hl-10">CommandContext</span><span class="hl-2">, </span><span class="hl-5">args</span><span class="hl-2">: </span><span class="hl-10">Map</span><span class="hl-2">&lt;</span><span class="hl-10">string</span><span class="hl-2">, </span><span class="hl-10">any</span><span class="hl-2">&gt;) {</span><br/><span class="hl-2">    </span><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">item</span><span class="hl-2"> = </span><span class="hl-5">args</span><span class="hl-2">.</span><span class="hl-4">get</span><span class="hl-2">(</span><span class="hl-6">&quot;item&quot;</span><span class="hl-2">) </span><span class="hl-7">as</span><span class="hl-2"> </span><span class="hl-10">DungeonObject</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-5">context</span><span class="hl-2">.</span><span class="hl-5">actor</span><span class="hl-2">.</span><span class="hl-4">add</span><span class="hl-2">(</span><span class="hl-5">item</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-4">log</span><span class="hl-2">(</span><span class="hl-6">`You pick up the </span><span class="hl-1">${</span><span class="hl-5">item</span><span class="hl-8">.</span><span class="hl-5">display</span><span class="hl-1">}</span><span class="hl-6">.`</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-0">// Matches: &quot;get sword&quot; (searches only in room)</span><br/><span class="hl-0">// Args: { item: &lt;DungeonObject&gt; }</span>
</code><button type="button">Copy</button></pre>

<h3 id="multiple-arguments-with-different-sources" class="tsd-anchor-link">Multiple arguments with different sources<a href="#multiple-arguments-with-different-sources" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-1">class</span><span class="hl-2"> </span><span class="hl-10">PutCommand</span><span class="hl-2"> </span><span class="hl-1">extends</span><span class="hl-2"> </span><span class="hl-10">Command</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-5">pattern</span><span class="hl-2"> = </span><span class="hl-6">&quot;put &lt;item:object@inventory&gt; in &lt;container:object@room&gt;&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">  </span><span class="hl-4">execute</span><span class="hl-2">(</span><span class="hl-5">context</span><span class="hl-2">: </span><span class="hl-10">CommandContext</span><span class="hl-2">, </span><span class="hl-5">args</span><span class="hl-2">: </span><span class="hl-10">Map</span><span class="hl-2">&lt;</span><span class="hl-10">string</span><span class="hl-2">, </span><span class="hl-10">any</span><span class="hl-2">&gt;) {</span><br/><span class="hl-2">    </span><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">item</span><span class="hl-2"> = </span><span class="hl-5">args</span><span class="hl-2">.</span><span class="hl-4">get</span><span class="hl-2">(</span><span class="hl-6">&quot;item&quot;</span><span class="hl-2">) </span><span class="hl-7">as</span><span class="hl-2"> </span><span class="hl-10">DungeonObject</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">container</span><span class="hl-2"> = </span><span class="hl-5">args</span><span class="hl-2">.</span><span class="hl-4">get</span><span class="hl-2">(</span><span class="hl-6">&quot;container&quot;</span><span class="hl-2">) </span><span class="hl-7">as</span><span class="hl-2"> </span><span class="hl-10">DungeonObject</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-5">container</span><span class="hl-2">.</span><span class="hl-4">add</span><span class="hl-2">(</span><span class="hl-5">item</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-4">log</span><span class="hl-2">(</span><span class="hl-6">`You put the </span><span class="hl-1">${</span><span class="hl-5">item</span><span class="hl-8">.</span><span class="hl-5">display</span><span class="hl-1">}</span><span class="hl-6"> in the </span><span class="hl-1">${</span><span class="hl-5">container</span><span class="hl-8">.</span><span class="hl-5">display</span><span class="hl-1">}</span><span class="hl-6">.`</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-0">// Matches: &quot;put coin in bag&quot;</span><br/><span class="hl-0">// Args: { item: &lt;coin from inventory&gt;, container: &lt;bag from room&gt; }</span>
</code><button type="button">Copy</button></pre>

<h3 id="mob-targeting" class="tsd-anchor-link">Mob targeting<a href="#mob-targeting" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-1">class</span><span class="hl-2"> </span><span class="hl-10">TellCommand</span><span class="hl-2"> </span><span class="hl-1">extends</span><span class="hl-2"> </span><span class="hl-10">Command</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-5">pattern</span><span class="hl-2"> = </span><span class="hl-6">&quot;tell &lt;target:mob&gt; &lt;message:text&gt;&quot;</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-5">aliases</span><span class="hl-2"> = [</span><span class="hl-6">&quot;whisper &lt;target:mob&gt; &lt;message:text&gt;&quot;</span><span class="hl-2">, </span><span class="hl-6">&quot;t &lt;target:mob&gt; &lt;message:text&gt;&quot;</span><span class="hl-2">];</span><br/><br/><span class="hl-2">  </span><span class="hl-4">execute</span><span class="hl-2">(</span><span class="hl-5">context</span><span class="hl-2">: </span><span class="hl-10">CommandContext</span><span class="hl-2">, </span><span class="hl-5">args</span><span class="hl-2">: </span><span class="hl-10">Map</span><span class="hl-2">&lt;</span><span class="hl-10">string</span><span class="hl-2">, </span><span class="hl-10">any</span><span class="hl-2">&gt;) {</span><br/><span class="hl-2">    </span><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">target</span><span class="hl-2"> = </span><span class="hl-5">args</span><span class="hl-2">.</span><span class="hl-4">get</span><span class="hl-2">(</span><span class="hl-6">&quot;target&quot;</span><span class="hl-2">) </span><span class="hl-7">as</span><span class="hl-2"> </span><span class="hl-10">Mob</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">message</span><span class="hl-2"> = </span><span class="hl-5">args</span><span class="hl-2">.</span><span class="hl-4">get</span><span class="hl-2">(</span><span class="hl-6">&quot;message&quot;</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-4">log</span><span class="hl-2">(</span><span class="hl-6">`You tell </span><span class="hl-1">${</span><span class="hl-5">target</span><span class="hl-8">.</span><span class="hl-5">display</span><span class="hl-1">}</span><span class="hl-6">: </span><span class="hl-1">${</span><span class="hl-5">message</span><span class="hl-1">}</span><span class="hl-6">`</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-0">// Matches: &quot;tell bob hello&quot;, &quot;whisper bob hello&quot;, or &quot;t bob hello&quot;</span><br/><span class="hl-0">// Args: { target: &lt;Mob&gt;, message: &quot;hello&quot; }</span>
</code><button type="button">Copy</button></pre>

<h3 id="number-arguments" class="tsd-anchor-link">Number arguments<a href="#number-arguments" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-1">class</span><span class="hl-2"> </span><span class="hl-10">DropCommand</span><span class="hl-2"> </span><span class="hl-1">extends</span><span class="hl-2"> </span><span class="hl-10">Command</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-5">pattern</span><span class="hl-2"> = </span><span class="hl-6">&quot;drop &lt;quantity:number&gt; &lt;item:item@inventory&gt;&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">  </span><span class="hl-4">execute</span><span class="hl-2">(</span><span class="hl-5">context</span><span class="hl-2">: </span><span class="hl-10">CommandContext</span><span class="hl-2">, </span><span class="hl-5">args</span><span class="hl-2">: </span><span class="hl-10">Map</span><span class="hl-2">&lt;</span><span class="hl-10">string</span><span class="hl-2">, </span><span class="hl-10">any</span><span class="hl-2">&gt;) {</span><br/><span class="hl-2">    </span><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">quantity</span><span class="hl-2"> = </span><span class="hl-5">args</span><span class="hl-2">.</span><span class="hl-4">get</span><span class="hl-2">(</span><span class="hl-6">&quot;quantity&quot;</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">item</span><span class="hl-2"> = </span><span class="hl-5">args</span><span class="hl-2">.</span><span class="hl-4">get</span><span class="hl-2">(</span><span class="hl-6">&quot;item&quot;</span><span class="hl-2">) </span><span class="hl-7">as</span><span class="hl-2"> </span><span class="hl-10">Item</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-4">log</span><span class="hl-2">(</span><span class="hl-6">`You drop </span><span class="hl-1">${</span><span class="hl-5">quantity</span><span class="hl-1">}</span><span class="hl-6"> </span><span class="hl-1">${</span><span class="hl-5">item</span><span class="hl-8">.</span><span class="hl-5">display</span><span class="hl-1">}</span><span class="hl-6">(s).`</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-0">// Matches: &quot;drop 5 coins&quot;</span><br/><span class="hl-0">// Args: { quantity: 5, item: &lt;Item&gt; }</span>
</code><button type="button">Copy</button></pre>

<h2 id="error-handling" class="tsd-anchor-link">Error Handling<a href="#error-handling" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The parsing system provides detailed error messages:</p>
<ul>
<li>&quot;Missing required argument: <name>&quot; - Required argument not provided</li>
<li>&quot;Could not parse argument: <name>&quot; - Argument value invalid for its type</li>
<li>&quot;Input does not match command pattern&quot; - No pattern matched the input</li>
</ul>
<p>Implement the optional <code>onError()</code> method to provide custom error handling
and user guidance when parsing fails.</p>
<h2 id="command-execution-flow" class="tsd-anchor-link">Command Execution Flow<a href="#command-execution-flow" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><ol>
<li>Input is matched against the command pattern and aliases</li>
<li>Arguments are extracted from regex capture groups</li>
<li>Each argument is parsed and validated based on its type</li>
<li>If parsing succeeds, <code>execute()</code> is called with the parsed arguments</li>
<li>If parsing fails, <code>onError()</code> is called if implemented</li>
</ol>
</div></section><section class="tsd-panel tsd-hierarchy" data-refl="133"><h4>Hierarchy (<a href="../hierarchy.html#command.Command">View Summary</a>)</h4><ul class="tsd-hierarchy"><li class="tsd-hierarchy-item"><span class="tsd-hierarchy-target">Command</span><ul class="tsd-hierarchy"><li class="tsd-hierarchy-item"><a href="package_commands.JavaScriptCommandAdapter.html" class="tsd-signature-type tsd-kind-class">JavaScriptCommandAdapter</a></li></ul></li></ul></section><aside class="tsd-sources"><ul><li>Defined in src/command.ts:320</li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h5 class="tsd-index-heading uppercase">Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Constructors</h3><div class="tsd-index-list"><a href="#constructor" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Constructor"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Properties</h3><div class="tsd-index-list"><a href="#aliases" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>aliases?</span></a>
<a href="#pattern" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>pattern</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Methods</h3><div class="tsd-index-list"><a href="#execute" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>execute</span></a>
<a href="#onerror" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>on<wbr/>Error?</span></a>
<a href="#parse" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>parse</span></a>
</div></section></div></details></section></section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Constructors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Constructors</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="constructor"><span>constructor</span><a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="constructorcommand"><span class="tsd-signature-keyword">new</span> <span class="tsd-kind-constructor-signature">Command</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?:</span> <a href="../interfaces/command.CommandOptions.html" class="tsd-signature-type tsd-kind-interface">CommandOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-class">Command</a><a href="#constructorcommand" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Initialize the command and build cached regex patterns.
This constructor builds the pattern cache immediately with the provided patterns.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">options</span>: <a href="../interfaces/command.CommandOptions.html" class="tsd-signature-type tsd-kind-interface">CommandOptions</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="" class="tsd-signature-type tsd-kind-class">Command</a></h4><aside class="tsd-sources"><ul><li>Defined in src/command.ts:390</li></ul></aside></div></li></ul></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Properties</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="aliases"><code class="tsd-tag">Optional</code> <code class="tsd-tag">Readonly</code><span>aliases</span><a href="#aliases" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">aliases</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></div><div class="tsd-comment tsd-typography"><p>Optional aliases for the command.</p>
<p>Aliases are alternative patterns that trigger the same command execution.
Each alias follows the same pattern syntax as the main pattern and can
have different structures. When input is parsed, all patterns (main + aliases)
are tried in order until one matches.</p>
<p>This is useful for:</p>
<ul>
<li>Providing abbreviations (&quot;l&quot; as an alias for &quot;look&quot;)</li>
<li>Supporting alternate phrasings (&quot;whisper&quot; as an alias for &quot;tell&quot;)</li>
<li>Backwards compatibility when changing command syntax</li>
</ul>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example">Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-1">class</span><span class="hl-2"> </span><span class="hl-10">TellCommand</span><span class="hl-2"> </span><span class="hl-1">extends</span><span class="hl-2"> </span><span class="hl-10">Command</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-1">constructor</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-1">super</span><span class="hl-2">(</span><span class="hl-6">&quot;tell &lt;target:mob&gt; &lt;message:text&gt;&quot;</span><span class="hl-2">, [</span><br/><span class="hl-2">      </span><span class="hl-6">&quot;whisper &lt;target:mob&gt; &lt;message:text&gt;&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-6">&quot;t &lt;target:mob&gt; &lt;message:text&gt;&quot;</span><br/><span class="hl-2">    ]);</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">  </span><span class="hl-0">// ... execute implementation</span><br/><span class="hl-2">}</span><br/><span class="hl-0">// Now &quot;tell bob hi&quot;, &quot;whisper bob hi&quot;, and &quot;t bob hi&quot; all work</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in src/command.ts:370</li></ul></aside></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="pattern"><code class="tsd-tag">Readonly</code><span>pattern</span><a href="#pattern" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">pattern</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div><div class="tsd-comment tsd-typography"><p>The command pattern using placeholder syntax.</p>
<p>Define the structure of your command using literal text and argument
placeholders. The pattern is case-insensitive when matching input.</p>
<p>Placeholders:</p>
<ul>
<li><code>&lt;name:type&gt;</code> - Required argument</li>
<li><code>&lt;name:type?&gt;</code> - Optional argument (with ? suffix)</li>
<li><code>&lt;name:type@source&gt;</code> - Object/Item/Mob argument with search source modifier</li>
</ul>
<p>Examples:</p>
<ul>
<li><code>&quot;say &lt;message:text&gt;&quot;</code> - Simple command with one required text argument</li>
<li><code>&quot;tell &lt;target:mob&gt; &lt;message:text&gt;&quot;</code> - Two required arguments</li>
<li><code>&quot;get &lt;item:object&gt;&quot;</code> - Object argument (searches room and inventory)</li>
<li><code>&quot;get &lt;item:object@room&gt;&quot;</code> - Object argument (searches only room)</li>
<li><code>&quot;put &lt;item:object@inventory&gt; in &lt;container:object@room&gt;&quot;</code> - Multiple object arguments with different sources</li>
<li><code>&quot;look &lt;direction:direction?&gt;&quot;</code> - Optional direction argument</li>
<li><code>&quot;drop &lt;quantity:number&gt; &lt;item:item@inventory&gt;&quot;</code> - Number and item arguments</li>
</ul>
</div><aside class="tsd-sources"><ul><li>Defined in src/command.ts:341</li></ul></aside></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Methods</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="execute"><code class="tsd-tag">Abstract</code><span>execute</span><a href="#execute" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="execute-1"><span class="tsd-kind-call-signature">execute</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/command.CommandContext.html" class="tsd-signature-type tsd-kind-interface">CommandContext</a><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">args</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Map</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#execute-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Execute the command with parsed arguments.</p>
<p>This method is called after the input has been successfully parsed and
all arguments have been extracted and validated. Implement this method
to define what your command actually does.</p>
<p>The args Map contains all successfully parsed arguments, keyed by their
names from the pattern. Optional arguments may not be present in the map
if they weren't provided in the input.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">context</span>: <a href="../interfaces/command.CommandContext.html" class="tsd-signature-type tsd-kind-interface">CommandContext</a></span><div class="tsd-comment tsd-typography"><p>The execution context containing the actor and their location</p>
</div></li><li><span><span class="tsd-kind-parameter">args</span>: <span class="tsd-signature-type">Map</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>Map of argument names to their parsed values</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-1">Example<a href="#example-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-4">execute</span><span class="hl-2">(</span><span class="hl-5">context</span><span class="hl-2">: </span><span class="hl-5">CommandContext</span><span class="hl-2">, </span><span class="hl-5">args</span><span class="hl-2">: </span><span class="hl-5">Map</span><span class="hl-2">&lt;</span><span class="hl-5">string</span><span class="hl-2">, </span><span class="hl-5">any</span><span class="hl-2">&gt;) {</span><br/><span class="hl-2">  </span><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">item</span><span class="hl-2"> = </span><span class="hl-5">args</span><span class="hl-2">.</span><span class="hl-4">get</span><span class="hl-2">(</span><span class="hl-6">&quot;item&quot;</span><span class="hl-2">) </span><span class="hl-7">as</span><span class="hl-2"> </span><span class="hl-10">DungeonObject</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">quantity</span><span class="hl-2"> = </span><span class="hl-5">args</span><span class="hl-2">.</span><span class="hl-4">get</span><span class="hl-2">(</span><span class="hl-6">&quot;quantity&quot;</span><span class="hl-2">) ?? </span><span class="hl-9">1</span><span class="hl-2">; </span><span class="hl-0">// Default if optional</span><br/><br/><span class="hl-2">  </span><span class="hl-7">if</span><span class="hl-2"> (!</span><span class="hl-5">item</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-4">log</span><span class="hl-2">(</span><span class="hl-6">&quot;You don&#39;t have that item.&quot;</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-7">return</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-4">log</span><span class="hl-2">(</span><span class="hl-6">`You use </span><span class="hl-1">${</span><span class="hl-5">quantity</span><span class="hl-1">}</span><span class="hl-6"> </span><span class="hl-1">${</span><span class="hl-5">item</span><span class="hl-8">.</span><span class="hl-5">display</span><span class="hl-1">}</span><span class="hl-6">(s).`</span><span class="hl-2">);</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in src/command.ts:447</li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="onerror"><code class="tsd-tag">Optional</code><span>on<wbr/>Error</span><a href="#onerror" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="onerror-1"><span class="tsd-kind-call-signature">onError</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/command.CommandContext.html" class="tsd-signature-type tsd-kind-interface">CommandContext</a><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">result</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/command.ParseResult.html" class="tsd-signature-type tsd-kind-interface">ParseResult</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#onerror-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Handle parsing errors with custom messaging.</p>
<p>This optional method is called when the command pattern matches but
parsing fails (missing required arguments, invalid argument values, etc.).
Override this to provide custom error messages and usage information
specific to your command.</p>
<p>If not implemented, the default error message from the ParseResult is used.</p>
<p>Common use cases:</p>
<ul>
<li>Show usage examples for your command</li>
<li>Provide context-specific help</li>
<li>Guide users on correct syntax</li>
<li>Explain why their input was invalid</li>
</ul>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">context</span>: <a href="../interfaces/command.CommandContext.html" class="tsd-signature-type tsd-kind-interface">CommandContext</a></span><div class="tsd-comment tsd-typography"><p>The execution context</p>
</div></li><li><span><span class="tsd-kind-parameter">result</span>: <a href="../interfaces/command.ParseResult.html" class="tsd-signature-type tsd-kind-interface">ParseResult</a></span><div class="tsd-comment tsd-typography"><p>The failed parse result containing the error message</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-2">Example<a href="#example-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-4">onError</span><span class="hl-2">(</span><span class="hl-5">context</span><span class="hl-2">: </span><span class="hl-5">CommandContext</span><span class="hl-2">, </span><span class="hl-5">result</span><span class="hl-2">: </span><span class="hl-5">ParseResult</span><span class="hl-2">) {</span><br/><span class="hl-2">  </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-4">log</span><span class="hl-2">(</span><span class="hl-6">`Usage: </span><span class="hl-1">${</span><span class="hl-1">this</span><span class="hl-8">.</span><span class="hl-5">pattern</span><span class="hl-1">}</span><span class="hl-6">`</span><span class="hl-2">);</span><br/><span class="hl-2">  </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-4">log</span><span class="hl-2">(</span><span class="hl-6">`Error: </span><span class="hl-1">${</span><span class="hl-5">result</span><span class="hl-8">.</span><span class="hl-5">error</span><span class="hl-1">}</span><span class="hl-6">`</span><span class="hl-2">);</span><br/><span class="hl-2">  </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-4">log</span><span class="hl-2">(</span><span class="hl-6">`Example: tell bob Hello, how are you?`</span><span class="hl-2">);</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-3">Example<a href="#example-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>More detailed error handling:</p>
<pre><code class="typescript"><span class="hl-4">onError</span><span class="hl-2">(</span><span class="hl-5">context</span><span class="hl-2">: </span><span class="hl-5">CommandContext</span><span class="hl-2">, </span><span class="hl-5">result</span><span class="hl-2">: </span><span class="hl-5">ParseResult</span><span class="hl-2">) {</span><br/><span class="hl-2">  </span><span class="hl-7">if</span><span class="hl-2"> (</span><span class="hl-5">result</span><span class="hl-2">.</span><span class="hl-5">error</span><span class="hl-2">?.</span><span class="hl-4">includes</span><span class="hl-2">(</span><span class="hl-6">&quot;Missing required argument: message&quot;</span><span class="hl-2">)) {</span><br/><span class="hl-2">    </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-4">log</span><span class="hl-2">(</span><span class="hl-6">&quot;You need to provide a message to say!&quot;</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-4">log</span><span class="hl-2">(</span><span class="hl-6">&quot;Usage: say &lt;message&gt;&quot;</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-4">log</span><span class="hl-2">(</span><span class="hl-6">&#39;Example: say Hello, everyone!&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">  } </span><span class="hl-7">else</span><span class="hl-2"> </span><span class="hl-7">if</span><span class="hl-2"> (</span><span class="hl-5">result</span><span class="hl-2">.</span><span class="hl-5">error</span><span class="hl-2">?.</span><span class="hl-4">includes</span><span class="hl-2">(</span><span class="hl-6">&quot;Could not parse argument: player&quot;</span><span class="hl-2">)) {</span><br/><span class="hl-2">    </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-4">log</span><span class="hl-2">(</span><span class="hl-6">&quot;That player is not here.&quot;</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-4">log</span><span class="hl-2">(</span><span class="hl-6">&quot;Try &#39;look&#39; to see who&#39;s around.&quot;</span><span class="hl-2">);</span><br/><span class="hl-2">  } </span><span class="hl-7">else</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-4">log</span><span class="hl-2">(</span><span class="hl-6">`Error: </span><span class="hl-1">${</span><span class="hl-5">result</span><span class="hl-8">.</span><span class="hl-5">error</span><span class="hl-1">}</span><span class="hl-6">`</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in src/command.ts:495</li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="parse"><span>parse</span><a href="#parse" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="parse-1"><span class="tsd-kind-call-signature">parse</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">input</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/command.CommandContext.html" class="tsd-signature-type tsd-kind-interface">CommandContext</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/command.ParseResult.html" class="tsd-signature-type tsd-kind-interface">ParseResult</a><a href="#parse-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Parse the input against this command's pattern.</p>
<p>This is the main entry point for command parsing. It attempts to match
the input against the command's pattern and all aliases, parsing arguments
and performing validation. The first pattern that successfully matches is used.</p>
<p>The parsing process:</p>
<ol>
<li>Try the main pattern, then each alias in order</li>
<li>For each pattern, use the cached regex and attempt to match the input</li>
<li>Extract argument values from the regex capture groups</li>
<li>Parse and validate each argument based on its type</li>
<li>Return success with parsed args, or failure with an error message</li>
</ol>
<p>Error messages are specific when possible:</p>
<ul>
<li>&quot;Missing required argument: <name>&quot; when a required arg isn't provided</li>
<li>&quot;Could not parse argument: <name>&quot; when parsing/finding fails</li>
<li>&quot;Input does not match command pattern&quot; for general mismatches</li>
</ul>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">input</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The raw input string from the user (typically lowercase)</p>
</div></li><li><span><span class="tsd-kind-parameter">context</span>: <a href="../interfaces/command.CommandContext.html" class="tsd-signature-type tsd-kind-interface">CommandContext</a></span><div class="tsd-comment tsd-typography"><p>The execution context for finding objects/players</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../interfaces/command.ParseResult.html" class="tsd-signature-type tsd-kind-interface">ParseResult</a></h4><p>Result containing success status, parsed args, and optional error</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-4">Example<a href="#example-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">command</span><span class="hl-2"> = </span><span class="hl-1">new</span><span class="hl-2"> </span><span class="hl-4">GetCommand</span><span class="hl-2">();</span><br/><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">result</span><span class="hl-2"> = </span><span class="hl-5">command</span><span class="hl-2">.</span><span class="hl-4">parse</span><span class="hl-2">(</span><span class="hl-6">&quot;get sword&quot;</span><span class="hl-2">, </span><span class="hl-5">context</span><span class="hl-2">);</span><br/><br/><span class="hl-7">if</span><span class="hl-2"> (</span><span class="hl-5">result</span><span class="hl-2">.</span><span class="hl-5">success</span><span class="hl-2">) {</span><br/><span class="hl-2">  </span><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">item</span><span class="hl-2"> = </span><span class="hl-5">result</span><span class="hl-2">.</span><span class="hl-5">args</span><span class="hl-2">.</span><span class="hl-4">get</span><span class="hl-2">(</span><span class="hl-6">&quot;item&quot;</span><span class="hl-2">);</span><br/><span class="hl-2">  </span><span class="hl-5">command</span><span class="hl-2">.</span><span class="hl-4">execute</span><span class="hl-2">(</span><span class="hl-5">context</span><span class="hl-2">, </span><span class="hl-5">result</span><span class="hl-2">.</span><span class="hl-5">args</span><span class="hl-2">);</span><br/><span class="hl-2">} </span><span class="hl-7">else</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-4">log</span><span class="hl-2">(</span><span class="hl-5">result</span><span class="hl-2">.</span><span class="hl-5">error</span><span class="hl-2">);</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in src/command.ts:532</li></ul></aside></div></li></ul></section></section></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#pattern-syntax"><span>Pattern <wbr/>Syntax</span></a><ul><li><a href="#available-argument-types"><span>Available <wbr/>Argument <wbr/>Types</span></a></li><li><a href="#source-modifiers-for-object-and-item-types"><span>Source <wbr/>Modifiers (for object and item types)</span></a></li></ul><a href="#examples"><span>Examples</span></a><ul><li><a href="#simple-text-command"><span>Simple text command</span></a></li><li><a href="#command-with-optional-argument"><span>Command with optional argument</span></a></li><li><a href="#object-manipulation-with-source-modifiers"><span>Object manipulation with source modifiers</span></a></li><li><a href="#multiple-arguments-with-different-sources"><span>Multiple arguments with different sources</span></a></li><li><a href="#mob-targeting"><span>Mob targeting</span></a></li><li><a href="#number-arguments"><span>Number arguments</span></a></li></ul><a href="#error-handling"><span>Error <wbr/>Handling</span></a><a href="#command-execution-flow"><span>Command <wbr/>Execution <wbr/>Flow</span></a><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Constructors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Constructors</summary><div><a href="#constructor"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Constructor"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Properties</summary><div><a href="#aliases"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>aliases</span></a><a href="#pattern"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>pattern</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Methods</summary><div><a href="#execute"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>execute</span></a><a href="#onerror"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>on<wbr/>Error</span></a><a href="#parse"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>parse</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../index.html">mud3</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
