<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>CommandRegistry | mud3</title><meta name="description" content="Documentation for mud3"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">mud3</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="../modules/command.html">command</a></li><li><a href="" aria-current="page">CommandRegistry</a></li></ul><h1>Class CommandRegistry</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>Registry and executor for commands.</p>
<p>CommandRegistry manages a collection of Command instances and provides
centralized command execution. It attempts to parse user input against
all registered commands in order, executing the first command that
successfully matches.</p>
<p>This class can be instantiated to create separate command registries
(e.g., for skill commands, admin commands, etc.), or you can use the
default static instance for general commands.</p>
<h2 id="usage-pattern" class="tsd-anchor-link">Usage Pattern<a href="#usage-pattern" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-4">// Using the default registry</span><br/><span class="hl-2">CommandRegistry</span><span class="hl-1">.</span><span class="hl-2">default</span><span class="hl-1">.</span><span class="hl-5">register</span><span class="hl-1">(</span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-5">SayCommand</span><span class="hl-1">());</span><br/><span class="hl-2">CommandRegistry</span><span class="hl-1">.</span><span class="hl-2">default</span><span class="hl-1">.</span><span class="hl-5">register</span><span class="hl-1">(</span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-5">GetCommand</span><span class="hl-1">());</span><br/><span class="hl-2">CommandRegistry</span><span class="hl-1">.</span><span class="hl-2">default</span><span class="hl-1">.</span><span class="hl-5">register</span><span class="hl-1">(</span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-5">LookCommand</span><span class="hl-1">());</span><br/><br/><span class="hl-4">// Runtime: Process user input</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">context</span><span class="hl-1">: </span><span class="hl-8">CommandContext</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-2">actor:</span><span class="hl-1"> </span><span class="hl-2">currentPlayer</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">room:</span><span class="hl-1"> </span><span class="hl-2">currentRoom</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">executed</span><span class="hl-1"> = </span><span class="hl-2">CommandRegistry</span><span class="hl-1">.</span><span class="hl-2">default</span><span class="hl-1">.</span><span class="hl-5">execute</span><span class="hl-1">(</span><span class="hl-2">userInput</span><span class="hl-1">, </span><span class="hl-2">context</span><span class="hl-1">);</span><br/><span class="hl-0">if</span><span class="hl-1"> (!</span><span class="hl-2">executed</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">&quot;Unknown command. Type &#39;help&#39; for assistance.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="multiple-registries" class="tsd-anchor-link">Multiple Registries<a href="#multiple-registries" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-4">// Create separate registries for different command types</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">skillRegistry</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-5">CommandRegistry</span><span class="hl-1">();</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">adminRegistry</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-5">CommandRegistry</span><span class="hl-1">();</span><br/><br/><span class="hl-2">skillRegistry</span><span class="hl-1">.</span><span class="hl-5">register</span><span class="hl-1">(</span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-5">FireballCommand</span><span class="hl-1">());</span><br/><span class="hl-2">adminRegistry</span><span class="hl-1">.</span><span class="hl-5">register</span><span class="hl-1">(</span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-5">BanCommand</span><span class="hl-1">());</span><br/><br/><span class="hl-4">// Check skill commands first, then regular commands</span><br/><span class="hl-0">if</span><span class="hl-1"> (!</span><span class="hl-2">skillRegistry</span><span class="hl-1">.</span><span class="hl-5">execute</span><span class="hl-1">(</span><span class="hl-2">input</span><span class="hl-1">, </span><span class="hl-2">context</span><span class="hl-1">)) {</span><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (!</span><span class="hl-2">CommandRegistry</span><span class="hl-1">.</span><span class="hl-2">default</span><span class="hl-1">.</span><span class="hl-5">execute</span><span class="hl-1">(</span><span class="hl-2">input</span><span class="hl-1">, </span><span class="hl-2">context</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">&quot;Unknown command.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="command-priority" class="tsd-anchor-link">Command Priority<a href="#command-priority" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Commands are automatically sorted by pattern length (longest first) and tried
in that order. This ensures more specific commands are matched before general ones:</p>
<pre><code class="typescript"><span class="hl-4">// These will be automatically ordered correctly regardless of registration order</span><br/><span class="hl-2">registry</span><span class="hl-1">.</span><span class="hl-5">register</span><span class="hl-1">(</span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-5">GetCommand</span><span class="hl-1">());           </span><span class="hl-4">// &quot;get &lt;item:object&gt;&quot;</span><br/><span class="hl-2">registry</span><span class="hl-1">.</span><span class="hl-5">register</span><span class="hl-1">(</span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-5">GetFromCommand</span><span class="hl-1">());       </span><span class="hl-4">// &quot;get &lt;item:object&gt; from &lt;container:object&gt;&quot;</span><br/><span class="hl-4">// GetFromCommand will be tried first due to longer pattern</span>
</code><button type="button">Copy</button></pre>

<h2 id="best-practices" class="tsd-anchor-link">Best Practices<a href="#best-practices" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><ol>
<li>Register all commands once at application startup</li>
<li>Use command aliases for alternate phrasings, not separate commands</li>
<li>Handle &quot;command not found&quot; case after execute() returns false</li>
<li>Implement onError() methods for user-friendly error messages</li>
<li>Use specific source modifiers (@room, @inventory) to avoid ambiguity</li>
</ol>
</div></section><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/jackindisguise/mud3/blob/6d2cda128f04dda68476a9a665bbdda4ab164fd3/src/command.ts#L1192">src/command.ts:1192</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h5 class="tsd-index-heading uppercase">Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Constructors</h3><div class="tsd-index-list"><a href="#constructor" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Constructor"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Properties</h3><div class="tsd-index-list"><a href="#default" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>default</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Methods</h3><div class="tsd-index-list"><a href="#execute" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>execute</span></a>
<a href="#getcommands" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Commands</span></a>
<a href="#register" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>register</span></a>
<a href="#unregister" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>unregister</span></a>
</div></section></div></details></section></section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Constructors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Constructors</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="constructor"><span>constructor</span><a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="constructorcommandregistry"><span class="tsd-signature-keyword">new</span> <span class="tsd-kind-constructor-signature">CommandRegistry</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-class">CommandRegistry</a><a href="#constructorcommandregistry" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><h4 class="tsd-returns-title">Returns <a href="" class="tsd-signature-type tsd-kind-class">CommandRegistry</a></h4></div></li></ul></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Properties</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="default"><code class="tsd-tag">Static</code> <code class="tsd-tag">Readonly</code><span>default</span><a href="#default" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">default</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-class">CommandRegistry</a><span class="tsd-signature-symbol"> = ...</span></div><div class="tsd-comment tsd-typography"><p>Default global command registry instance.
Use this for general commands that are always available.</p>
</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/jackindisguise/mud3/blob/6d2cda128f04dda68476a9a665bbdda4ab164fd3/src/command.ts#L1197">src/command.ts:1197</a></li></ul></aside></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Methods</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="execute"><span>execute</span><a href="#execute" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="execute-1"><span class="tsd-kind-call-signature">execute</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">input</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/command.CommandContext.html" class="tsd-signature-type tsd-kind-interface">CommandContext</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="#execute-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Execute a command string for the given context.</p>
<p>This is the main entry point for command execution. It attempts to parse
the input against all registered commands in order, and executes the first
command that successfully matches.</p>
<p>The execution process:</p>
<ol>
<li>Trim whitespace from input</li>
<li>Return false immediately if input is empty</li>
<li>Try each registered command's parse() method in order (longest patterns first)</li>
<li>On successful parse, call that command's execute() method</li>
<li>On failed parse, call the command's onError() method if implemented</li>
<li>Return true if a command was matched (even if parsing failed), false if none matched</li>
</ol>
<p>The return value indicates whether a command pattern was matched, not whether
the command fully succeeded. Commands handle their own success/failure messaging,
and parsing errors are handled by the command's onError() method if implemented.</p>
<p>When a command pattern matches but parsing fails (e.g., missing required argument),
the command's onError() method is called to let the command provide custom error
messages and usage information. If onError() is not implemented, no error message
is displayed (you should implement onError() to guide users).</p>
<p>Empty input is handled gracefully and returns false without trying
any commands, allowing you to distinguish between &quot;no input&quot; and
&quot;invalid command&quot;.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">input</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The user's input string (will be trimmed)</p>
</div></li><li><span><span class="tsd-kind-parameter">context</span>: <a href="../interfaces/command.CommandContext.html" class="tsd-signature-type tsd-kind-interface">CommandContext</a></span><div class="tsd-comment tsd-typography"><p>The execution context with actor and room</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><p>True if a command pattern was matched, false if no command matched</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example">Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">executed</span><span class="hl-1"> = </span><span class="hl-2">CommandRegistry</span><span class="hl-1">.</span><span class="hl-2">default</span><span class="hl-1">.</span><span class="hl-5">execute</span><span class="hl-1">(</span><span class="hl-3">&quot;say hello world&quot;</span><span class="hl-1">, </span><span class="hl-2">context</span><span class="hl-1">);</span><br/><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">executed</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">// Command was found (executed successfully or onError was called)</span><br/><span class="hl-1">} </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">// No command matched</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">&quot;Huh? Type &#39;help&#39; for a list of commands.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-1">Example<a href="#example-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Handle empty input:</p>
<pre><code class="typescript"><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">input</span><span class="hl-1"> = </span><span class="hl-2">userInput</span><span class="hl-1">.</span><span class="hl-5">trim</span><span class="hl-1">();</span><br/><span class="hl-0">if</span><span class="hl-1"> (!</span><span class="hl-2">input</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">// Don&#39;t bother calling execute for empty input</span><br/><span class="hl-1">  </span><span class="hl-0">return</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">executed</span><span class="hl-1"> = </span><span class="hl-2">CommandRegistry</span><span class="hl-1">.</span><span class="hl-2">default</span><span class="hl-1">.</span><span class="hl-5">execute</span><span class="hl-1">(</span><span class="hl-2">input</span><span class="hl-1">, </span><span class="hl-2">context</span><span class="hl-1">);</span><br/><span class="hl-4">// ...</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/jackindisguise/mud3/blob/6d2cda128f04dda68476a9a665bbdda4ab164fd3/src/command.ts#L1332">src/command.ts:1332</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="getcommands"><span>get<wbr/>Commands</span><a href="#getcommands" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="getcommands-1"><span class="tsd-kind-call-signature">getCommands</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <a href="command.Command.html" class="tsd-signature-type tsd-kind-class">Command</a><span class="tsd-signature-symbol">[]</span><a href="#getcommands-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get all registered commands.</p>
<p>Returns a shallow copy of the internal commands array. The returned
array can be modified without affecting the registry, but the Command
instances themselves are the same references.</p>
<p>This is useful for:</p>
<ul>
<li>Debugging and introspection</li>
<li>Building dynamic help systems</li>
<li>Displaying available commands to users</li>
<li>Testing and validation</li>
</ul>
<p>The commands are returned in their sorted order (longest patterns first),
which is also the order they'll be tried during execution.</p>
</div><h4 class="tsd-returns-title">Returns <a href="command.Command.html" class="tsd-signature-type tsd-kind-class">Command</a><span class="tsd-signature-symbol">[]</span></h4><p>A copy of the commands array</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-2">Example<a href="#example-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-4">// Display all available commands</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">commands</span><span class="hl-1"> = </span><span class="hl-2">CommandRegistry</span><span class="hl-1">.</span><span class="hl-2">default</span><span class="hl-1">.</span><span class="hl-5">getCommands</span><span class="hl-1">();</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">&quot;Available commands:&quot;</span><span class="hl-1">);</span><br/><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">command</span><span class="hl-1"> </span><span class="hl-6">of</span><span class="hl-1"> </span><span class="hl-2">commands</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">`  </span><span class="hl-6">${</span><span class="hl-2">command</span><span class="hl-9">.</span><span class="hl-2">pattern</span><span class="hl-6">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">command</span><span class="hl-1">.</span><span class="hl-2">aliases</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">`    Aliases: </span><span class="hl-6">${</span><span class="hl-2">command</span><span class="hl-9">.</span><span class="hl-2">aliases</span><span class="hl-9">.</span><span class="hl-5">join</span><span class="hl-9">(</span><span class="hl-3">&quot;, &quot;</span><span class="hl-9">)</span><span class="hl-6">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-3">Example<a href="#example-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Check if a specific command is registered:</p>
<pre><code class="typescript"><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">hasSayCommand</span><span class="hl-1"> = </span><span class="hl-2">CommandRegistry</span><span class="hl-1">.</span><span class="hl-2">default</span><span class="hl-1">.</span><span class="hl-5">getCommands</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-5">some</span><span class="hl-1">(</span><span class="hl-2">cmd</span><span class="hl-1"> </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-2">cmd</span><span class="hl-1"> </span><span class="hl-6">instanceof</span><span class="hl-1"> </span><span class="hl-8">SayCommand</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/jackindisguise/mud3/blob/6d2cda128f04dda68476a9a665bbdda4ab164fd3/src/command.ts#L1396">src/command.ts:1396</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="register"><span>register</span><a href="#register" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="register-1"><span class="tsd-kind-call-signature">register</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">command</span><span class="tsd-signature-symbol">:</span> <a href="command.Command.html" class="tsd-signature-type tsd-kind-class">Command</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#register-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Register a command in this registry.</p>
<p>Adds a command instance to the command registry. Once registered,
the command will be considered when execute() is called with user input.</p>
<p>Commands are automatically sorted by pattern length (longest first) to ensure
more specific commands are tried before more general ones. This means you can
register commands in any order without worrying about matching priority.</p>
<p>For example, if you register:</p>
<ul>
<li>&quot;get <a href="item:object@room">item:object@room</a>&quot; (26 chars)</li>
<li>&quot;get <a href="item:object@inventory">item:object@inventory</a> from <a href="container:object@room">container:object@room</a>&quot; (58 chars)</li>
</ul>
<p>They will automatically be ordered with the longer, more specific pattern first,
regardless of registration order.</p>
<p>The same command instance can only be registered once. If you need
multiple instances of a command (e.g., for different contexts), create
separate instances.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">command</span>: <a href="command.Command.html" class="tsd-signature-type tsd-kind-class">Command</a></span><div class="tsd-comment tsd-typography"><p>The Command instance to register</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-4">Example<a href="#example-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-2">CommandRegistry</span><span class="hl-1">.</span><span class="hl-2">default</span><span class="hl-1">.</span><span class="hl-5">register</span><span class="hl-1">(</span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-5">SayCommand</span><span class="hl-1">());</span><br/><span class="hl-2">CommandRegistry</span><span class="hl-1">.</span><span class="hl-2">default</span><span class="hl-1">.</span><span class="hl-5">register</span><span class="hl-1">(</span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-5">GetFromContainerCommand</span><span class="hl-1">()); </span><span class="hl-4">// Longer pattern</span><br/><span class="hl-2">CommandRegistry</span><span class="hl-1">.</span><span class="hl-2">default</span><span class="hl-1">.</span><span class="hl-5">register</span><span class="hl-1">(</span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-5">GetCommand</span><span class="hl-1">()); </span><span class="hl-4">// Shorter pattern</span><br/><span class="hl-4">// GetFromContainerCommand will be tried first automatically</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/jackindisguise/mud3/blob/6d2cda128f04dda68476a9a665bbdda4ab164fd3/src/command.ts#L1233">src/command.ts:1233</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="unregister"><span>unregister</span><a href="#unregister" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="unregister-1"><span class="tsd-kind-call-signature">unregister</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">command</span><span class="tsd-signature-symbol">:</span> <a href="command.Command.html" class="tsd-signature-type tsd-kind-class">Command</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#unregister-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Unregister a command from this registry.</p>
<p>Removes a previously registered command instance from the registry.
After unregistering, the command will no longer be considered for
execution when execute() is called.</p>
<p>If the command is not currently registered, this method does nothing.
Uses reference equality to find the command, so you must pass the
exact same instance that was registered.</p>
<p>The remaining commands will stay in their sorted order (by pattern length).</p>
<p>This is useful for:</p>
<ul>
<li>Temporarily disabling commands</li>
<li>Context-sensitive command availability (e.g., combat vs non-combat)</li>
<li>Dynamic command loading/unloading</li>
<li>Plugin systems that add/remove commands</li>
</ul>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">command</span>: <a href="command.Command.html" class="tsd-signature-type tsd-kind-class">Command</a></span><div class="tsd-comment tsd-typography"><p>The Command instance to unregister (must be same instance)</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-5">Example<a href="#example-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">sayCommand</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-5">SayCommand</span><span class="hl-1">();</span><br/><span class="hl-2">CommandRegistry</span><span class="hl-1">.</span><span class="hl-2">default</span><span class="hl-1">.</span><span class="hl-5">register</span><span class="hl-1">(</span><span class="hl-2">sayCommand</span><span class="hl-1">);</span><br/><span class="hl-4">// ... later</span><br/><span class="hl-2">CommandRegistry</span><span class="hl-1">.</span><span class="hl-2">default</span><span class="hl-1">.</span><span class="hl-5">unregister</span><span class="hl-1">(</span><span class="hl-2">sayCommand</span><span class="hl-1">); </span><span class="hl-4">// Removes the command</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/jackindisguise/mud3/blob/6d2cda128f04dda68476a9a665bbdda4ab164fd3/src/command.ts#L1269">src/command.ts:1269</a></li></ul></aside></div></li></ul></section></section></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#usage-pattern"><span>Usage <wbr/>Pattern</span></a><a href="#multiple-registries"><span>Multiple <wbr/>Registries</span></a><a href="#command-priority"><span>Command <wbr/>Priority</span></a><a href="#best-practices"><span>Best <wbr/>Practices</span></a><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Constructors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Constructors</summary><div><a href="#constructor"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Constructor"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Properties</summary><div><a href="#default"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>default</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Methods</summary><div><a href="#execute"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>execute</span></a><a href="#getcommands"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Commands</span></a><a href="#register"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>register</span></a><a href="#unregister"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>unregister</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">mud3</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
